(this.webpackJsonpctc2=this.webpackJsonpctc2||[]).push([[0],{129:function(e,t,n){e.exports=n(200)},134:function(e,t,n){},135:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),l=(n(134),n(22)),c=n(43),s=n(106),u=n(107),d=n(113),f=n(111),h=(n(135),n(13)),m=n(112),y=n(4);function p(e,t,n){return"dash"===n?function(e,t){var n=e.corner_offset,a=e.cell_size,r=function(e,n){return t.find((function(t){return t[0]===e&&t[1]===n}))},o=[[0,n],[n,0],[a-n,0],[a,n],[a,a-n],[a-n,a],[n,a],[0,a-n]],i=[];return e.each_cell((function(e){var t,a=e.x,c=e.y;if(r(a,c)){var s=r(a,c-1),u=r(a,c+1),d=r(a-1,c),f=r(a+1,c),h=r(a-1,c-1),m=r(a+1,c-1),p=r(a-1,c+1),v=r(a+1,c+1),g=[],b=function(e,t){g.push(new y.Line({points:[].concat(Object(l.a)(e),Object(l.a)(t)),dash:[4],strokeWidth:2,stroke:"black"}))};if(!d){var w=e.corner_pos[0],x=e.corner_pos[3];s&&((w=o[1].slice(0))[1]-=h?n:0),u&&((x=o[6].slice(0))[1]+=p?n:0),b(w,x)}if(!f){var E=e.corner_pos[1],k=e.corner_pos[2];s&&((E=o[2].slice(0))[1]-=m?n:0),u&&((k=o[5].slice(0))[1]+=v?n:0),b(E,k)}if(!s){var S=e.corner_pos[0],j=e.corner_pos[1];d&&((S=o[0].slice(0))[0]-=h?n:0),f&&((j=o[3].slice(0))[0]+=m?n:0),b(S,j)}if(!u){var C=e.corner_pos[3],O=e.corner_pos[2];d&&((C=o[7].slice(0))[0]-=p?n:0),f&&((O=o[4].slice(0))[0]+=v?n:0),b(C,O)}(t=e.cont).add.apply(t,g),i=i.concat(g)}})),i}(e,t):"edge"===n?function(e,t){var n=function(e,n){return t.find((function(t){return t[0]===e&&t[1]===n}))},a=[[0,0],[e.cell_size,0],[e.cell_size,e.cell_size],[0,e.cell_size]],r=[];return e.each_cell((function(e){var t,o=e.x,i=e.y;if(n(o,i)){var c=n(o,i-1),s=n(o,i+1),u=n(o-1,i),d=n(o+1,i),f=[],h=function(e,t){f.push(new y.Line({points:[].concat(Object(l.a)(e),Object(l.a)(t)),strokeWidth:4,stroke:"black"}))};if(!u)h(a[0],a[3]);if(!d)h(a[1],a[2]);if(!c)h(a[0],a[1]);if(!s)h(a[3],a[2]);(t=e.cont).add.apply(t,f),r.push.apply(r,f)}})),r}(e,t):void 0}function v(e,t){return[t[0]*e+e/2,t[1]*e+e/2]}function g(e,t,n,a){var r,o=e.cell_size,i=q[a],l=y.Util.colorToRGBA(i);l.r=l.r*l.a+255*(1-l.a),l.g=l.g*l.a+255*(1-l.a),l.b=l.b*l.a+255*(1-l.a),l.a=1,l="rgba(".concat(l.r,", ").concat(l.g,", ").concat(l.b,", ").concat(l.a,")");var c=v(o,t[0]),s=t.map((function(e){var t=v(o,e);return[t[0],t[1]]})).flat(),u=[];if("thermo"===n){var d=.3*o,f=new y.Circle({x:c[0],y:c[1],radius:.4*o,fill:l}),h=new y.Line({points:s,stroke:l,strokeWidth:d,lineCap:"round"});u.push(f,h)}else if("thin"===n){var m=.05*o,p=new y.Line({points:s,stroke:l,strokeWidth:m});u.push(p)}else if("fat"===n){var g=.3*o,b=new y.Line({points:s,stroke:l,strokeWidth:g});u.push(b)}else if("roundborder"===n){var w=new y.Line({points:s,stroke:l,strokeWidth:.8*o,lineCap:"round",lineJoin:"round"}),x=new y.Line({points:s,stroke:"white",strokeWidth:.67*o,lineCap:"round",lineJoin:"round"});u.push(w,x)}else if("border"===n){var E=new y.Line({points:s,stroke:l,strokeWidth:.8*o,lineCap:"square",lineJoin:"round"}),k=new y.Line({points:s,stroke:"white",strokeWidth:.67*o,lineCap:"square",lineJoin:"round"});u.push(E,k)}else if("roundfill"===n){var S=new y.Line({points:s,stroke:l,strokeWidth:.8*o,lineCap:"round",lineJoin:"round"});u.push(S)}else if("squarefill"===n){var j=new y.Line({points:s,stroke:l,strokeWidth:.8*o,lineCap:"square",lineJoin:"round"});u.push(j)}else if("arrowcircle"===n||"arrow"===n){var C=.07*o;if(s.length>1){var O=new y.Arrow({points:s,stroke:l,strokeWidth:C,arrow:.3*o});u.push(O)}var W=new y.Line({points:s,stroke:l,strokeWidth:C,join:"miter"});if(u.push(W),"arrowcircle"===n){var A=new y.Circle({x:c[0],y:c[1],radius:.4*o,fill:"white",strokeWidth:C,stroke:l});u.push(A)}}return(r=e.underlay2).add.apply(r,u),e.scene.draw(),u}function b(e,t,n,a,r){var o,i=+t.substr(1,1),l=+t.substr(2,1),c="string"===typeof n?n:q[n],s=a/2,u=a/2;if("#"!==t[0]&&(i=0),0===i&&(o=new y.Text({x:a/4,y:.1*a,text:t,font:"sans-serif",fontSize:a,fill:c})),1===i&&(1===l&&(o=new y.Circle({x:s,y:u,radius:.8*a/2,fill:c,stroke:"black",strokeWidth:2})),2===l&&(o=new y.Circle({x:s,y:u,radius:.8*a/2,fill:"white",stroke:c,strokeWidth:2})),3===l&&(o=new y.Circle({x:s,y:u,radius:.8*a/2,fill:c,stroke:"black",strokeWidth:2,dash:[4]})),4===l&&(o=new y.Circle({x:s,y:u,radius:.8*a/2,fill:"white",stroke:c,strokeWidth:2,dash:[4]}))),2===i){var d=.05*a,f=.15*a,m={stroke:"black",strokeWidth:3,fill:c,pointerLength:.3*a,pointerWidth:.3*a};1===l&&(o=new y.Arrow(Object(h.a)({x:s,y:u,points:[0,0,a-s-d,a-u-d]},m))),2===l&&(o=new y.Arrow(Object(h.a)({x:s,y:u,points:[0,0,a-s-d,-u+d]},m))),3===l&&(o=new y.Arrow(Object(h.a)({x:s,y:u,points:[0,0,-s+d,-u+d]},m))),4===l&&(o=new y.Arrow(Object(h.a)({x:s,y:u,points:[0,0,-s+d,a-u-d]},m))),5===l&&(o=new y.Arrow(Object(h.a)({x:f,y:u,points:[0,0,a-2*f,0]},m))),6===l&&(o=new y.Arrow(Object(h.a)({x:a-f,y:u,points:[0,0,-(a-2*f),0]},m))),7===l&&(o=new y.Arrow(Object(h.a)({x:s,y:f,points:[0,0,0,a-2*f]},m))),8===l&&(o=new y.Arrow(Object(h.a)({x:s,y:a-f,points:[0,0,0,-(a-2*f)]},m)))}if(3===i){var p=.15*a,v={stroke:c,strokeWidth:2,pointerLength:.1*a,pointerWidth:.1*a,fill:"black"};1===l&&(o=new y.Arrow(Object(h.a)({x:p,y:p,points:[0,0,a-2*p,0]},v))),2===l&&(o=new y.Arrow(Object(h.a)({x:a-p,y:p,points:[0,0,-(a-2*p),0]},v))),3===l&&(o=new y.Arrow(Object(h.a)({x:a-p,y:p,points:[0,0,0,a-2*p]},v))),4===l&&(o=new y.Arrow(Object(h.a)({x:a-p,y:a-p,points:[0,0,0,-(a-2*p)]},v))),5===l&&(o=new y.Arrow(Object(h.a)({x:a-p,y:a-p,points:[0,0,-(a-2*p),0]},v))),6===l&&(o=new y.Arrow(Object(h.a)({x:p,y:a-p,points:[0,0,a-2*p,0]},v))),7===l&&(o=new y.Arrow(Object(h.a)({x:p,y:a-p,points:[0,0,0,-(a-2*p)]},v))),8===l&&(o=new y.Arrow(Object(h.a)({x:p,y:p,points:[0,0,0,a-2*p]},v)))}if(4===i){if(1===l&&(o=new y.Star({x:s,y:u,innerRadius:.2*a,outerRadius:.4*a,numPoints:5,fill:c,stroke:"black"})),2===l){var g=.1*a;o=new y.Line({x:g,y:g,points:[0,0,a-2*g,u-g,0,a-2*g,0,0],fill:c,closed:!0})}if(3===l&&((o=new y.Group).add(new y.Rect({width:a,height:a,fill:c})),o.add(new y.Line({points:[0,0,a,a],stroke:"white",strokeWidth:3}))),4===l){var b=.1*a;(o=new y.Group).add(new y.Line({points:[b,b,a-b,a-b],stroke:c,strokeWidth:3})),o.add(new y.Line({points:[b,a-b,a-b,b],stroke:c,strokeWidth:3}))}}if(o){if(e.symbol&&e.symbol.destroy(),r){var w=new y.Rect({width:a,height:a,fill:"white"}),x=new y.Group;x.add(w,o),e.symbol=x,e.add(x)}else e.symbol=o,e.add(o);e.symboltext=t,e.symbolcolor=n}}var w=n(53),x=n.n(w),E=n(54),k=n.n(E),S=n(35),j={},C=0,O=null,W=null,A=0,L=0,_=0,R=0,z=0,D=0,G="normal",M=!1,B=!1,T=0,U=0,P=0,q=["rgba(0, 0, 0, 1)","rgba(207, 207, 207, 0.5)","rgba(255, 255, 255, 1)","rgba(163, 224, 72, 0.5)","rgba(210, 59, 231, 0.5)","rgba(235, 117, 50, 0.5)","rgba(226, 38, 31, 0.5)","rgba(247, 208, 56, 0.5)","rgba(52, 187, 230, 0.5)","rgba(140, 140, 140, 0.5)","rgba(80, 80, 80, 0.5)","rgba(20, 20, 20, 0.5)"],I=0,N="normal",J=null,K=null,H=!1,X=null,F=[],Q=[],V=!1,Z=[],$=null,Y=null,ee=null,te=!1,ne=null,ae=null,re=[];var oe={font:"sans-serif"},ie={font:"sans-serif",fill:"rgb(29, 106, 229)"},le={font:"sans-serif",fill:"rgb(29, 106, 229)"};function ce(e,t,n,a){var r,o=a;e.normal?(o=C,r=e.normal,e=e.symcont):o>0?n="gray":o=e.bsize,"#"!==t[0]&&r?r.text(t):b(e,t,n,o)}function se(e,t,n,a){var r=new y.Stage({container:e,width:a,height:a}),o=new y.Layer;ce(o,"#"+t+n,I,a),r.add(o),r.draw()}function ue(e,t,n,a,r){var o=t[0],i=t[1],c=null;3===t.length&&(c=ye.apply(void 0,Object(l.a)(t)));var s=ye(o,i),u={mode:n,x:o,y:i,newtext:r,old_normal:s.normal.text()};if((s.main_grid||"normal"===n||e)&&(1!==s.lock_type||e||"color"===n)){if("reset"===n)s.center.text(""),s.normal.text(""),s.corner.forEach((function(e){return e.text("")})),s.side.forEach((function(e){return e.text("")})),s.r_color.fill(null),s.r_color.fillEnabled(!1),e&&(s.r_color_set.fill(null),s.r_color_set.fillEnabled(!1),s.fill=-1,s.symcont.symbol&&(s.symcont.symbol.destroy(),s.symcont.symbol=null,s.symcont.symboltext=""),s.boundary.forEach((function(e){e.symbol&&(e.symbol.destroy(),e.symbol=null,e.symboltext=""),e.rect.fill(null),e.rect.fillEnabled(!1),e.rect.off("mousedown")})));else if(c)ce(c,r,a);else if("normal"===n){if(e?(s.lock_type=""!==r?1:0,"#"!==r[0]&&(s.normal.fill(q[a]),s.color=a,""!==s.normal.text()&&"#"!==r[0]&&(r=s.normal.text()+r))):s.normal.fill("rgb(29, 106, 229)"),ce(s,r,a),"#"!==r[0]){var d=C/2;s.normal.position({x:(C-d)/2,y:.15*C}),s.center.text(""),s.corner.forEach((function(e){e.text("")})),s.side.forEach((function(e){e.text("")}))}}else if("center"===n&&""===s.normal.text()){var f=s.center.text(),h="";if(s.center.fill("rgb(29, 106, 229)"),""!==r)for(var m=1;m<=9;++m)(-1===f.indexOf(m)&&m===+r||-1!==f.indexOf(m)&&m!==+r)&&(h+=m);s.center.text(h);var y={width:C/2,height:C/2};s.center.position.x=(C-y.width)/2,s.center.position.y=(C-y.height)/2}else if("corner"===n&&""===s.normal.text()){var p="";s.corner.forEach((function(e){p+=e.text()})),s.side.forEach((function(e){p+=e.text()}));var v="";if(""!==r)for(var g=1;g<=9;++g)(-1===p.indexOf(g)&&g===+r||-1!==p.indexOf(g)&&g!==+r)&&(v+=g);var b=0;s.corner.forEach((function(e){e.text(v[b++]||"")})),s.side.forEach((function(e){e.text(v[b++]||"")}))}else"color"===n&&(e?(s.r_color_set.fill(q[a]),s.r_color_set.fillEnabled(!0),s.fill=a):(s.r_color.fill(q[a]),s.r_color.fillEnabled(!0)));u.normal=s.normal.text(),Z.push(u)}}function de(e,t,n,a){ue(!H,e,t,n,a)}function fe(e,t,n,a){ue(!0,e,t,n,a)}function he(e){var t=0,n=e;P>0&&(n="#"+P+e),ae?de(ae,"boundary",I,n):(je((function(e){de([e.x,e.y],N,I,n),++t})),t>1&&Z.push({mode:"group",count:t})),X.draw()}function me(e){I=e,"color"===N&&(je((function(t){de([t.x,t.y],"color",e,null)})),X.draw())}function ye(e,t,n){if(e<0||t<0||e>=O||t>=W)return null;var a=F[t][e];return n>=0?a.boundary[n]:a}function pe(e,t){var n=ye(e,t);return!n.mark&&(n.mark=!0,n.rect.fill("rgba(247, 208, 56, 0.5)"),n.rect.fillEnabled(!0),!0)}var ve=null;function ge(e,t,n){var a,r=ye(e,t).boundary[n],o=H?"black":q[I],i=.15*C;null===ve&&(ve=!!r.edge),ve?r.edge&&(r.edge.destroy(),r.edge=null):r.edge||(12===n?a=new y.Line({x:i,y:-i,points:[0,0,0,C],strokeWidth:3,stroke:o,listening:!1}):13===n&&(a=new y.Line({x:-i,y:i,points:[0,0,C,0],strokeWidth:3,stroke:o,listening:!1})),r.edge=a,r.add(a)),X.draw()}var be={x:-1,y:-1,i:-1};function we(){ae&&(ye.apply(void 0,Object(l.a)(ae)).rect.strokeWidth(0),ae=null),je((function(e){e.rect.fillEnabled(!1),e.mark=!1})),ne=null}function xe(e,t,n,a){!function(e,t,n){we();var a=ye(e,t).boundary[n];a.rect.stroke("red"),a.rect.strokeWidth(1),ae=[e,t,n]}(t,n,a),X.draw()}function Ee(e,t,n,a){if(2!==e.evt.button||"cross"!==J)te||we(),ae&&(ye.apply(void 0,Object(l.a)(ae)).strokeWidth(0),ae=null),ne=[t,n],V=!0,"path"===N?($={cells:[[t,n]],color:I}).objs=g(j,$.cells,K,I):"cage"===N?($={cells:[t,n]}).objs=p(j,$.cells,K):"edge"===N&&void 0!==a?ge(t,n,a):pe(t,n),X.draw();else if(void 0!==a){var r=ye(t,n).boundary[a];r.symbol?(r.symbol.destroy(),r.symbol=null):b(r,"#44","black",r.bsize),X.draw()}}function ke(e){N=e.mode,H=e.solveMode,Se((function(e){return e.boundary.forEach((function(e){e.rect.fill(null),e.rect.fillEnabled(!1),e.rect.off("mousedown mousemove mouseup touchmove touchstart touchend")}))})),"cage"===e.mode&&(K=e.cageStyle),"path"===e.mode&&(K=e.pathStyle),"edgecross"===e.mode&&(N="edge",J="cross"),"normal"!==e.mode&&"number"!==e.mode||"normal"!==e.numberStyle||(N="normal"),"edge"===N&&Se((function(e){return e.boundary.forEach((function(t,n){5===t.btype&&(t.rect.fillEnabled(!0),t.rect.on("mousemove touchmove",(function(t){return function(e,t,n,a){V&&(be.x===t&&be.y===n&&be.i===a||(be={x:t,y:n,i:a},ge(t,n,a)))}(0,e.x,e.y,n)})),t.rect.on("mousedown touchstart",(function(t){return Ee(t,e.x,e.y,n)})),t.rect.on("mouseup touchend",(function(t){return function(e,t,n,a){2!==e.evt.button&&(null===ve&&ge(t,n,a),ve=null,V=!1)}(t,e.x,e.y,n)})))}))}));var t=function(e){Se((function(t){return t.boundary.forEach((function(n,a){n.rect.fillEnabled(n.btype===e),n.rect.fill(n.btype===e?"rgb(0, 0, 0, 0)":null),n.btype===e&&n.rect.on("mousedown",(function(e){return xe(0,t.x,t.y,a)}))}))}))};"number"===e.mode&&"corner"===e.numberStyle&&(N="boundary",t(1)),"number"===e.mode&&"side"===e.numberStyle&&(N="boundary",t(2)),"number"===e.mode&&"quarter"===e.numberStyle&&(N="boundary",t(3)),"number"===e.mode&&"boundary"===e.numberStyle&&(N="boundary",t(4)),X.draw()}function Se(e){for(var t=0;t<O;++t)for(var n=0;n<W;++n){e(ye(t,n))}}function je(e){for(var t=0;t<O;++t)for(var n=0;n<W;++n){var a=ye(t,n);a.mark&&e(a)}}function Ce(){var e=Object(S.range)(1,10),t=Array.from({length:9},(function(){return[]})),n=Array.from({length:9},(function(){return[]})),a=Array.from({length:9},(function(){return[]})),r=null;if(Se((function(e){var o=e.x-A,i=e.y-L,l=+e.normal.text();0===l&&null===r&&(r="Missing entry at ".concat(o+1,", ").concat(i+1)),n[o].push(l),t[i].push(l);var c=Math.floor(o/3)+3*Math.floor(i/3);a[c].push(l)})),r)return alert(r),!1;for(var o=0;o<9;++o){if(!Object(S.isEqual)(t[o].sort(),e))return alert("Bad row ".concat(o+1)),!1;if(!Object(S.isEqual)(n[o].sort(),e))return alert("Bad column ".concat(o+1)),!1;if(!Object(S.isEqual)(a[o].sort(),e))return alert("Bad box ".concat(o+1)),!1}return alert("OK"),!0}function Oe(){if(!H){var e=Object(S.findLastIndex)(Q,(function(e){return e.cells.find((function(e){return e[0]===ne[0]&&e[1]===ne[1]}))}));if(-1!==e)return Q[e].objs.forEach((function(e){return e.destroy()})),Q.splice(e,1),void X.draw()}var t=0;ae?de(ae,"boundary",null,""):je((function(e){de([e.x,e.y],"reset",null,""),++t})),t>1&&Z.push({mode:"group",count:t}),X.draw()}function We(){Se((function(e){de([e.x,e.y],"reset",null,"")})),H||(Q.forEach((function(e){return e.objs.forEach((function(e){return e.destroy()}))})),Q=[]),X.draw()}function Ae(){if(0!==Z.length){var e=Z.pop(),t=0;"group"===e.mode&&(t=e.count,e=Z.pop());do{"normal"===e.mode?de([e.x,e.y],e.mode,I,e.old_normal):"center"!==e.mode&&"corner"!==e.mode||de([e.x,e.y],e.mode,I,e.newtext),Z.pop(),--t>0&&(e=Z.pop())}while(t>0);X.draw()}}function Le(e,t,n){C=n.cellSize,A=n.left,R=n.right,L=n.top,_=n.bottom,O=A+n.width+R,W=L+n.height+_,z=n.gridDivWidth,D=n.gridDivHeight,G=n.gridStyle,M=n.gridLeftDiagonal,B=n.gridRightDiagonal,e&&function(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=x.a.inflate(t),a=k.a.decode(n);1!==a.version&&alert("Bad version"),C=a.grid[0],O=a.grid[1],W=a.grid[2],A=a.grid[3],R=a.grid[4],L=a.grid[5],_=a.grid[6],z=a.grid[7],D=a.grid[8],G=a.grid[9],M=a.grid[10],B=a.grid[11]}(e),T=.08*C,U=.2*C;var a=.2*C,r=O*C+2*a,o=W*C+2*a,i=new y.Stage({container:t,width:r,height:o});X=new y.Layer,i.add(X),F=[],Q=[],Z=[],$=null,Y=null,ee=null,te=!1,ne=null;var c=a,s=a,u={fillEnabled:!1,stroke:"black",strokeWidth:0},d={fillEnabled:!1};oe.fontSize=.8*C,ie.fontSize=.3*C,Y=new y.Group({x:c,y:s}),X.add(Y),ee=new y.Group;var f=new y.Group,v=new y.Group,b=new y.Group;Y.add(f,ee,v,b);for(var w=0;w<W;++w)F[w]=[];for(var E=C,P=function(e){for(var t=function(t){var n=e*E,a=t*E,r=e>=A&&t>=L&&e<O-R&&t<W-_,o=new y.Group({x:n,y:a}),i=new y.Group({x:n,y:a}),l=new y.Group({x:n,y:a}),c=new y.Rect(Object(h.a)(Object(h.a)({width:E,height:E},u),{},{fillEnabled:!0})),s=new y.Rect(Object(h.a)({width:E,height:E},u)),f=new y.Rect(Object(h.a)({width:E,height:E},u)),m=new y.Rect(Object(h.a)(Object(h.a)({x:U,y:U,width:E-2*U,height:E-2*U},d),{},{fillEnabled:!0})),v=new y.Text(Object(h.a)({x:0,y:.5*E,text:""},oe)),w=new y.Text(Object(h.a)({x:0,y:.4*E,text:""},ie)),x=[];x[0]=[T,T],x[1]=[E-T,T],x[2]=[E-T,E-T],x[3]=[T,E-T];var k=[];k[0]=[E/2,T],k[1]=[E-T,E/2],k[2]=[E/2,E-T],k[3]=[T,E/2];var z=[],D=[],G=[];r&&(le.fontSize=.25*E,x.forEach((function(e,t){(e=e.slice(0))[0]-=.025*E,e[1]-=.025*E,2!==t&&3!==t||(e[1]-=.15*E),1!==t&&2!==t||(e[0]-=.1*E),z.push(new y.Text(Object(h.a)({x:e[0],y:e[1],text:""},le)))})),k.forEach((function(e,t){(e=e.slice(0))[0]-=.025*E,e[1]-=.025*E,2===t&&(e[1]-=.15*E),1!==t&&3!==t||(e[1]-=.05*E),0!==t&&2!==t||(e[0]-=.025*E),1===t&&(e[0]-=.1*E),D.push(new y.Text(Object(h.a)({x:e[0],y:e[1],text:""},le)))})),function(e,t,n){var a=.03*C,r=C,o=.3*C,i=function(e,t,a,r){var o=new y.Group({x:e,y:t}),i=a,l=a,c=a;Array.isArray(a)&&(i=a[0],l=a[1],c=Math.min(a[0],a[1]));var s=new y.Rect({width:i,height:l,fillEnabled:!1});o.add(s),o.rect=s,o.bsize=c,o.btype=r,n.push(o)};i(a,a,o,1),i(r-o-a,a,o,1),i(a,r-o-a,o,1),i(r-o-a,r-o-a,o,1),i(a,r/2-o/2,o,2),i(r/2-o/2,a,o,2),i(r-o-a,r/2-o/2,o,2),i(r/2-o/2,r-o-a,o,2);var l=.4*C,c=.05*C;i(c,c,l,3),i(r-l-c,c,l,3),i(c,r-l-c,l,3),i(r-l-c,r-l-c,l,3);var s=.3*C,u=.7*C,d=s/2;i(-d,d,[s,u],5),i(d,-d,[u,s],5),e===O-R-1&&i(r-d,d,[s,u],5),t===W-_-1&&i(d,r-d,[u,s],5),i(-o/2,-o/2,o,4),i(-o/2,r/2-o/2,o,4),i(r/2-o/2,-o/2,o,4),e===O-R-1&&(i(r-o/2,-o/2,o,4),i(r-o/2,r/2-o/2,o,4)),t===W-_-1&&(i(-o/2,r-o/2,o,4),i(r/2-o/2,r-o/2,o,4),i(r-o/2,r-o/2,o,4))}(e,t,G)),i.add(f,s,c,m,v,w),i.on("mousedown touchstart",(function(n){return Ee(n,e,t)})),i.on("mousemove touchmove",(function(n){return function(e,t,n){if(V)if("path"===N||"edge"===N);else if("cage"===N){if($.cells.length>0){var a=Object(S.last)($.cells);if(a[0]===t&&a[1]===n)return}$.objs&&$.objs.forEach((function(e){return e.destroy()})),$.cells.push([t,n]),$.objs=p(j,$.cells,K),X.draw()}else pe(t,n)&&X.draw()}(0,e,t)})),m.on("mousemove",(function(){return function(e,t){if(V&&"path"===N){if($.cells.length>0){var n=Object(S.last)($.cells);if(n[0]===e&&n[1]===t)return}$.objs.forEach((function(e){return e.destroy()})),$.cells.push([e,t]),$.objs=g(j,$.cells,K,I),X.draw()}}(e,t)})),F[t][e]={x:e,y:t,pos:[n,a],symcont:l,cont:i,ocont:o,rect:c,boundary:G,fill:-1,color:null,normal:v,center:w,corner:z,side:D,corner_pos:x,r_color_set:f,r_color:s,main_grid:r},ee.add(l,i),r&&o.add.apply(o,z.concat(D,G)),b.add(o)},n=0;n<W;++n)t(n)},J=0;J<O;++J)P(J);return function(e){var t="dots"===G,n={fill:null,stroke:"black",strokeWidth:1,dash:"dash"===G?[4]:null},a={fill:null,stroke:"black",strokeWidth:4};re.forEach((function(e){return e.destroy()}));var r=O-A-R,o=W-L-_;if(re=[],M||B){var i={stroke:q[1],strokeWidth:4};M&&re.push(new y.Line(Object(h.a)({points:[A*C,L*C,(A+O)*C,(L+W)*C]},i))),B&&re.push(new y.Line(Object(h.a)({points:[(O-R)*C,L*C,A*C,(L+W)*C]},i)))}if(t)for(var c=.07*C,s=0;s<=o;++s)for(var u=0;u<=r;++u)re.push(new y.Circle({x:A+u*C,y:L+s*C,radius:c,fill:"black"}));else{for(var d=0;d<=r;++d)re.push(new y.Line(Object(h.a)({x:(A+d)*C,y:L*C,points:[0,0,0,o*C]},d%z===0?a:n)));for(var f=0;f<=o;++f)re.push(new y.Line(Object(h.a)({x:A*C,y:(L+f)*C,points:[0,0,r*C,0]},f%D===0?a:n)));re.push(new y.Rect({x:A*C,y:L*C,width:r*C,height:o*C,stroke:"black",strokeWidth:4,fillEnabled:!1}))}e.add.apply(e,Object(l.a)(re))}(v),j.scene=X,j.underlay=ee,j.underlay2=f,j.cell_size=C,j.corner_offset=T,j.each_cell=Se,j.get=ye,e&&function(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=x.a.inflate(t),a=k.a.decode(n);Q=[],Se((function(e){e.lock_type=0,e.normal.text(""),e.center.text("")})),a.cells.forEach((function(e){var t=Object(m.a)(e,4),n=t[0],a=t[1],r=t[2],o=t[3];1===a?fe(n,"normal",o,r):2===a?fe(n,"color",o,r):3===a&&fe(n,"boundary",o,r)})),a.stuff.forEach((function(e){var t={type:e[0],style:e[1],color:e[2],cells:e[3]};1===t.type?t.objs=g(j,t.cells,t.style,t.color):2===t.type&&(t.objs=p(j,t.cells,t.style)),Q.push(t)}))}(e),X.draw(),null}window.addEventListener("keydown",(function(e){return function(e){var t;if("TEXTAREA"!==e.target.tagName)if("Shift"!==e.key){if("Delete"===e.key||"Backspace"===e.key)return Oe(),void e.preventDefault();if(e.key>="0"&&e.key<="9")t=e.key,P>0&&(t="#"+P+t);else{if(1!==e.key.length||!(e.key>="a"&&e.key<="z"||e.key>="A"&&e.key<="Z")||H){if(e.key.startsWith("Arrow")&&ne){var n=ne.slice();return te||we(),ne=n,"ArrowUp"===e.key&&ne[1]>0&&(ne[1]-=1),"ArrowDown"===e.key&&ne[1]<W-1&&(ne[1]+=1),"ArrowLeft"===e.key&&ne[0]>0&&(ne[0]-=1),"ArrowRight"===e.key&&ne[0]<O-1&&(ne[0]+=1),pe(ne[0],ne[1]),void X.draw()}return}t=e.key}if(ae)de(ae,"boundary",I,t);else{var a=0;je((function(e){return++a})),je((function(e){if("color"===N){var n=+t-1;n>=0&&n<=9&&de([e.x,e.y],N,n,null)}else de([e.x,e.y],N,I,t)})),a>1&&Z.push({mode:"group",count:a})}X.draw()}else te=!0}(e)})),window.addEventListener("keyup",(function(e){return function(e){"Shift"===e.key&&(te=!1)}(e)})),window.addEventListener("mouseup",(function(e){return V=!1,void("path"===N&&$?(Q.push({type:1,style:K,cells:$.cells,objs:$.objs,color:I}),$=null):"cage"===N&&$&&(Q.push({type:2,style:K,cells:$.cells,objs:$.objs}),$=null))})),window.addEventListener("contextmenu",(function(e){return function(e){"CANVAS"===e.target.tagName&&e.preventDefault()}(e)}));var _e=n(250),Re=n(234),ze=n(235),De=n(236),Ge=n(237),Me=n(202),Be=n(247),Te=n(238),Ue=n(252),Pe=n(248),qe=n(254),Ie=n(115),Ne=n(241),Je=n(255),Ke=n(251),He=n(256),Xe=n(245),Fe=n(242),Qe=n(243),Ve=n(244),Ze=window.location.search,$e=new URLSearchParams(Ze),Ye=$e.get("p"),et="1"===$e.get("s");function tt(e){return r.a.createElement(_e.a,{open:e.open,onClose:e.onClose},r.a.createElement(Re.a,null,"URL"),r.a.createElement(ze.a,null,r.a.createElement(De.a,null,e.text)),r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{onClick:function(){e.onClose(),window.open(e.text,"_blank").focus()}},"Open in tab"),r.a.createElement(Me.a,{color:"primary",onClick:e.onClose},"OK")))}var nt=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).handleKeyDown=function(e){if("TEXTAREA"!==e.target.tagName&&a.state.solveMode){var t=["normal","center","corner","color"],n="qwer".indexOf(e.key);if(1===e.key.length&&-1!==n)a.setMode(t[n]);else if(" "===e.key){var r=t.indexOf(a.state.mode);r=(r+1)%t.length,a.setMode(t[r])}}},a.setMode=function(e){var t=document.getElementById("button"+e);t&&t.focus(),a.setState({mode:e},(function(){ke(a.state)}))},a.setStyle=function(e,t){a.setState(Object(c.a)({},e,t),(function(){return ke(a.state)}))},a.generateUrl=function(){var e=function(e){var t={version:1,grid:[C,O,W,A,R,L,_,z,D,G,M,B],cells:[],stuff:Q.map((function(e){return[e.type,e.style,e.color,e.cells]})),desc:e};Se((function(e){var n=[e.x,e.y];1===e.lock_type&&(""!==e.normal.text()&&t.cells.push([n,e.lock_type,e.normal.text(),e.color]),""!==e.symcont.symboltext&&void 0!==e.symcont.symboltext&&t.cells.push([n,e.lock_type,e.symcont.symboltext,e.symcont.symbolcolor])),e.fill>=0&&t.cells.push([n,2,null,e.fill]),e.boundary.forEach((function(n,a){n.symboltext&&t.cells.push([[e.x,e.y,a],3,n.symboltext,n.symbolcolor])}))})),console.log(t);var n=k.a.encode(t),a=x.a.deflate(n),r=btoa(String.fromCharCode.apply(String,Object(l.a)(a)));return window.location.origin+"/?s=1&p="+encodeURIComponent(r)}(a.state.description);a.setState({dialogText:e,dialogOpen:!0})},a.handleChange=function(e,t){a.setState(Object(c.a)({},e.target.parentNode.id,t))},a.setGrid=function(){Le(Ye,a.canvasRef.current,a.state),ke(a.state)},a.setSymbolPage=function(e){var t;a.setState({symbolPage:e.target.value},(function(){if(+a.state.symbolPage>0)for(var e=0;e<9;++e)se(a.symbolRef[e].current,a.state.symbolPage,e+1,30)})),t=+e.target.value,P=t},a.setGridState=function(e,t){a.setState(Object(c.a)({},e,t),(function(){Le(Ye,a.canvasRef.current,a.state),ke(a.state)}))},a.canvasRef=r.a.createRef(),a.symbolRef=[];for(var o=0;o<9;++o)a.symbolRef.push(r.a.createRef());return a.state={solveMode:et,settingsMode:"size",color:0,description:"",cellSize:64,width:9,height:9,left:0,right:0,top:0,bottom:0,gridDivWidth:3,gridDivHeight:3,gridStyle:"lines",gridLeftDiagonal:!1,gridRightDiagonal:!1,mode:et?"normal":"number",numberStyle:"normal",cageStyle:"dash",pathStyle:"arrow",dialogOpen:!1,dialogText:"",seconds:0,timeStatus:!0,symbolPage:"0"},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t="";Ye&&(t=function(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=x.a.inflate(t);return k.a.decode(n).desc}(Ye)),this.setState({description:t},(function(){Le(Ye,e.canvasRef.current,e.state),ke(e.state)})),document.addEventListener("keydown",this.handleKeyDown),this.interval=setInterval((function(){e.state.timeStatus&&e.setState({seconds:e.state.seconds+1})}),1e3)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),clearInterval(this.interval)}},{key:"numberStyleBox",value:function(){var e=this;return r.a.createElement(Be.a,{margin:"10px"},r.a.createElement(Te.a,{fullWidth:!0},r.a.createElement(Ue.a,{shrink:!0,id:"numberstyle-label"},"Style"),r.a.createElement(Pe.a,{labelId:"numberstyle-label",fullWidth:!0,value:this.state.numberStyle,onChange:function(t){return e.setStyle("numberStyle",t.target.value)}},r.a.createElement(qe.a,{value:"normal"},"Normal"),r.a.createElement(qe.a,{value:"corner"},"Corner"),r.a.createElement(qe.a,{value:"side"},"Side"),r.a.createElement(qe.a,{value:"quarter"},"Quarter"),r.a.createElement(qe.a,{value:"boundary"},"Boundary"))))}},{key:"cageStyleBox",value:function(){var e=this;return r.a.createElement(Be.a,{margin:"10px"},r.a.createElement(Te.a,{fullWidth:!0},r.a.createElement(Ue.a,{shrink:!0,id:"cagestyle-label"},"Style"),r.a.createElement(Pe.a,{labelId:"cagestyle-label",fullWidth:!0,value:this.state.cageStyle,onChange:function(t){return e.setStyle("cageStyle",t.target.value)}},r.a.createElement(qe.a,{value:"dash"},"Dashed"),r.a.createElement(qe.a,{value:"edge"},"Edge"))))}},{key:"pathStyleBox",value:function(){var e=this;return r.a.createElement(Be.a,{margin:"10px"},r.a.createElement(Te.a,{fullWidth:!0},r.a.createElement(Ue.a,{shrink:!0,id:"pathstyle-label"},"Style"),r.a.createElement(Pe.a,{labelId:"pathstyle-label",fullWidth:!0,value:this.state.pathStyle,onChange:function(t){return e.setStyle("pathStyle",t.target.value)}},r.a.createElement(qe.a,{value:"thin"},"Line"),r.a.createElement(qe.a,{value:"fat"},"Fat Line"),r.a.createElement(qe.a,{value:"thermo"},"Thermo"),r.a.createElement(qe.a,{value:"arrow"},"Arrow"),r.a.createElement(qe.a,{value:"arrowcircle"},"Arrow with circle"),r.a.createElement(qe.a,{value:"roundborder"},"Round border"),r.a.createElement(qe.a,{value:"border"},"Border"),r.a.createElement(qe.a,{value:"roundfill"},"Round fill"),r.a.createElement(qe.a,{value:"squarefill"},"Square fill"))))}},{key:"timerBox",value:function(){var e=this;return r.a.createElement(Be.a,{minWidth:"250px"},r.a.createElement(Be.a,{margin:"20px",padding:"10px",boxShadow:3},r.a.createElement(Ie.a,{align:"center",variant:"h4"},new Date(1e3*this.state.seconds).toISOString().substr(11,8)),r.a.createElement(Ne.a,{fullWidth:!0,size:"large"},r.a.createElement(Me.a,{onClick:function(){return e.setState({timeStatus:!0})}},r.a.createElement(Fe.a,null)),r.a.createElement(Me.a,{onClick:function(){return e.setState({timeStatus:!1})}},r.a.createElement(Qe.a,null)),r.a.createElement(Me.a,{onClick:function(){return e.setState({seconds:0,timeStatus:!1})}},r.a.createElement(Ve.a,null)))),""!==this.state.description&&r.a.createElement(Be.a,{margin:"20px"},r.a.createElement(Je.a,{multiline:!0,variant:"outlined",InputProps:{readOnly:!0},value:this.state.description})),r.a.createElement(Be.a,{margin:"20px"},r.a.createElement(Je.a,{multiline:!0,variant:"outlined"})))}},{key:"settingLeftBox",value:function(){var e=this;return r.a.createElement(Be.a,{minWidth:"250px"},r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Pe.a,{fullWidth:!0,value:this.state.mode,onChange:function(t){return e.setMode(t.target.value)}},r.a.createElement(qe.a,{value:"number"},"Number"),r.a.createElement(qe.a,{value:"cage"},"Cage"),r.a.createElement(qe.a,{value:"path"},"Path"),r.a.createElement(qe.a,{value:"color"},"Color"),r.a.createElement(qe.a,{value:"edge"},"Edge")),"number"===this.state.mode&&this.numberStyleBox(),"cage"===this.state.mode&&this.cageStyleBox(),"path"===this.state.mode&&this.pathStyleBox()),r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Ne.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(Me.a,{onClick:this.generateUrl},"Generate URL"))),r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Pe.a,{fullWidth:!0,value:this.state.settingsMode,onChange:function(t){return e.setState({settingsMode:t.target.value})}},r.a.createElement(qe.a,{value:"size"},"Size"),r.a.createElement(qe.a,{value:"margins"},"Margins"),r.a.createElement(qe.a,{value:"grid"},"Grid"),r.a.createElement(qe.a,{value:"description"},"Description"))),"size"===this.state.settingsMode&&r.a.createElement(Be.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("cellSize","Cell size",32,96,5,!0),this.sizeSlider("width","Width",3,30),this.sizeSlider("height","Height",3,30)),"margins"===this.state.settingsMode&&r.a.createElement(Be.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("left","Left"),this.sizeSlider("right","Right"),this.sizeSlider("top","Top"),this.sizeSlider("bottom","Bottom")),"grid"===this.state.settingsMode&&r.a.createElement(Be.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("gridDivWidth","Grid divider width"),this.sizeSlider("gridDivHeight","Grid divider height"),r.a.createElement(Te.a,{fullWidth:!0},r.a.createElement(Ue.a,{shrink:!0,id:"gridstyle-label"},"Style"),r.a.createElement(Pe.a,{labelId:"gridstyle-label",fullWidth:!0,value:this.state.gridStyle,onChange:function(t){return e.setGridState("gridStyle",t.target.value)}},r.a.createElement(qe.a,{value:"lines"},"Lines"),r.a.createElement(qe.a,{value:"dash"},"Dashed"),r.a.createElement(qe.a,{value:"dots"},"Dots"))),r.a.createElement(Ie.a,null,"Diagonals"),r.a.createElement(Ke.a,{checked:this.state.gridLeftDiagonal,onChange:function(t){e.setGridState("gridLeftDiagonal",t.target.checked)}}),r.a.createElement(Ke.a,{checked:this.state.gridRightDiagonal,onChange:function(t){e.setGridState("gridRightDiagonal",t.target.checked)}})),"description"===this.state.settingsMode&&r.a.createElement(Be.a,{margin:"30px",padding:"10px",boxShadow:3},r.a.createElement(Je.a,{multiline:!0,rows:8,value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})))}},{key:"sizeSlider",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r.a.createElement(Be.a,null,r.a.createElement(Ie.a,null,t,": ",this.state[e]),r.a.createElement(He.a,{value:this.state[e],min:n,max:a,step:o,marks:i,id:e,onChange:this.handleChange,onChangeCommitted:this.setGrid}))}},{key:"colorGrid",value:function(e){return q.slice(0,e).map((function(e,t){return r.a.createElement(Xe.a,{key:t,item:!0,xs:4},r.a.createElement(Me.a,{variant:"outlined",onClick:function(){return me(t)}},r.a.createElement("div",{style:{border:"1px solid black",background:e,width:"30px",height:"30px"}})))}))}},{key:"renderSolveMode",value:function(){var e=this;return r.a.createElement(Be.a,{display:"flex",flexDirection:"row"},this.timerBox(),r.a.createElement(Be.a,{display:"flex"},r.a.createElement("div",{id:"canvas",ref:this.canvasRef})),r.a.createElement(Be.a,{minWidth:"250px",maxWidth:"250px"},r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Ne.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},[["normal","Normal"],["edgecross","Edge+cross"],["center","Center"],["corner","Corner"],["color","Color"]].map((function(t){return r.a.createElement(Me.a,{id:"button"+t[0],key:t[0],color:e.state.mode===t[0]?"primary":"default",onClick:function(){return e.setMode(t[0])}},t[1])})))),r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Ne.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(Me.a,{onClick:We},"Reset"),r.a.createElement(Me.a,{onClick:Ce},"Check"),r.a.createElement(Me.a,{onClick:Ae},"Undo"),r.a.createElement(Me.a,{onClick:Oe},"Delete"))),r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Xe.a,{container:!0},"color"===this.state.mode&&this.colorGrid(9),"color"!==this.state.mode&&Object(l.a)(Array(9).keys()).map((function(e){return r.a.createElement(Xe.a,{key:e,item:!0,xs:4},r.a.createElement(Me.a,{variant:"outlined",onClick:function(){return he(e+1)}},r.a.createElement("div",{style:{fontSize:"20px"}},e+1)))}))))))}},{key:"colorSelect",value:function(){var e=this;return q.map((function(t,n){return r.a.createElement(Xe.a,{key:n,item:!0,xs:4},r.a.createElement(Me.a,{variant:e.state.color===n?"contained":"outlined",onClick:function(){e.setState({color:n}),me(n)}},r.a.createElement("div",{style:{border:"1px solid black",background:t,width:"30px",height:"30px"}})))}))}},{key:"pageSelect",value:function(){return r.a.createElement(Te.a,{fullWidth:!0},r.a.createElement(Pe.a,{fullWidth:!0,value:this.state.symbolPage,onChange:this.setSymbolPage},["Numbers","Circles","Arrows","Arrows 2","Misc"].map((function(e,t){return r.a.createElement(qe.a,{key:e,value:t},e)}))))}},{key:"symbolGrid",value:function(){var e=this;return Object(l.a)(Array(9).keys()).map((function(t){return r.a.createElement(Xe.a,{key:t,item:!0,xs:4},r.a.createElement(Me.a,{variant:"outlined",onClick:function(){return he(t+1)}},0===+e.state.symbolPage&&r.a.createElement("div",{style:{fontSize:"20px"}},t+1),+e.state.symbolPage>0&&r.a.createElement("div",{ref:e.symbolRef[t]})))}))}},{key:"settingRight",value:function(){return r.a.createElement(Xe.a,{container:!0},"color"!==this.state.mode&&this.colorSelect(),"color"===this.state.mode&&this.colorGrid(),"number"===this.state.mode&&this.pageSelect(),"number"===this.state.mode&&this.symbolGrid())}},{key:"renderSetMode",value:function(){var e=this;return r.a.createElement(Be.a,{display:"flex",flexDirection:"row"},r.a.createElement(tt,{text:this.state.dialogText,open:this.state.dialogOpen,onClose:function(){return e.setState({dialogOpen:!1})}}),this.settingLeftBox(),r.a.createElement(Be.a,{display:"flex"},r.a.createElement("div",{id:"canvas",ref:this.canvasRef})),r.a.createElement(Be.a,{minWidth:"250px",maxWidth:"250px"},r.a.createElement(Be.a,{margin:"30px"},r.a.createElement(Ne.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(Me.a,{onClick:We},"Reset"),r.a.createElement(Me.a,{onClick:Ce},"Check"),r.a.createElement(Me.a,{onClick:Ae},"Undo"),r.a.createElement(Me.a,{onClick:Oe},"Delete"))),r.a.createElement(Be.a,{margin:"30px"},this.settingRight())))}},{key:"render",value:function(){return this.state.solveMode?this.renderSolveMode():this.renderSetMode()}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.77380abf.chunk.js.map