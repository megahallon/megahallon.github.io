(this.webpackJsonpctc2=this.webpackJsonpctc2||[]).push([[0],{133:function(e,t,n){e.exports=n(204)},138:function(e,t,n){},139:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),l=n.n(i),o=(n(138),n(48)),c=n(31),s=n(32),u=n(47),d=n(46),h=n(21),f=n(30),m=(n(139),n(6)),g=n(4);function v(e,t,n,a){var r=n.split(":"),i=Object(f.a)(r,2),l=i[0],o=i[1],c=e.getLineWidth(o);return"dash"===l?function(e,t,n,a){var r=.08*e.cell_size,i=e.cell_size,l=function(e,n){return t.find((function(t){return t[0]===e&&t[1]===n}))};a=Q(a);var o=[[r,r],[i-r,r],[i-r,i-r],[r,i-r]],c=[[0,r],[r,0],[i-r,0],[i,r],[i,i-r],[i-r,i],[r,i],[0,i-r]],s=[];return e.each_cell((function(t){var n,i=t.x,u=t.y;if(l(i,u)){var d=l(i,u-1),f=l(i,u+1),m=l(i-1,u),v=l(i+1,u),b=l(i-1,u-1),y=l(i+1,u-1),p=l(i-1,u+1),x=l(i+1,u+1),E=[],w=function(t,n){E.push(new g.Line({points:[].concat(Object(h.a)(t),Object(h.a)(n)),dash:[e.cell_size/20],strokeWidth:2,stroke:a}))};if(!m){var k=o[0],j=o[3];d&&((k=c[1].slice(0))[1]-=b?r:0),f&&((j=c[6].slice(0))[1]+=p?r:0),w(k,j)}if(!v){var S=o[1],O=o[2];d&&((S=c[2].slice(0))[1]-=y?r:0),f&&((O=c[5].slice(0))[1]+=x?r:0),w(S,O)}if(!d){var W=o[0],L=o[1];m&&((W=c[0].slice(0))[0]-=b?r:0),v&&((L=c[3].slice(0))[0]+=y?r:0),w(W,L)}if(!f){var C=o[3],R=o[2];m&&((C=c[7].slice(0))[0]-=p?r:0),v&&((R=c[4].slice(0))[0]+=x?r:0),w(C,R)}E.length>0&&(n=t.cont).add.apply(n,E),s=s.concat(E)}})),s}(e,t,0,a):"edge"===l?function(e,t,n,a){var r=e.cell_size,i=function(e,n){return t.find((function(t){return t[0]===e&&t[1]===n}))};a=Q(a);var l=[[0,0],[r,0],[r,r],[0,r]],o=[];return e.each_cell((function(e){var t,r=e.x,c=e.y;if(i(r,c)){var s=i(r,c-1),u=i(r,c+1),d=i(r-1,c),f=i(r+1,c),m=[],v=function(e,t){m.push(new g.Line({points:[].concat(Object(h.a)(e),Object(h.a)(t)),strokeWidth:n,stroke:a,lineCap:"round"}))};if(!d)v(l[0],l[3]);if(!f)v(l[1],l[2]);if(!s)v(l[0],l[1]);if(!u)v(l[3],l[2]);m.length>0&&(t=e.ocont).add.apply(t,m),o.push.apply(o,m)}})),o}(e,t,c,a):void 0}var b=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).arrowLength=e.arrowLength,a}return Object(s.a)(n,[{key:"_sceneFunc",value:function(e){var t=this.points(),n=t.length;e.beginPath(),e.moveTo(t[0],t[1]);for(var a=2;a<n;a+=2)e.lineTo(t[a],t[a+1]);var r=t[t.length-2],i=t[t.length-1],l=t[t.length-4]-r,o=t[t.length-3]-i;if(Math.sqrt(Math.pow(l,2)+Math.pow(o,2))>0){var c=Math.atan2(o,l),s=c+Math.PI/4,u=c-Math.PI/4,d=this.arrowLength;e.moveTo(r+d*Math.cos(s),i+d*Math.sin(s)),e.lineTo(r,i),e.lineTo(r+d*Math.cos(u),i+d*Math.sin(u))}e.strokeShape(this)}}]),n}(g.Line),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"_sceneFunc",value:function(e){var t=this.points(),n=t.length;e.beginPath(),e.moveTo(t[0],t[1]),e.arc(t[0],t[1],.8*this.strokeWidth(),0,2*Math.PI,!0),e.moveTo(t[0],t[1]);for(var a=2;a<n;a+=2)e.lineTo(t[a],t[a+1]);e.strokeShape(this)}}]),n}(g.Line);function p(e,t){return[t[0]*e+e/2,t[1]*e+e/2]}function x(e,t,n,a){var r,i=e.cell_size,l=e.radius*i,o=e.getLineWidth("medium");a=X[a];var c=p(i,t[0]),s=t.map((function(e){var t=p(i,e);return[t[0],t[1]]}));1===s.length&&s.push(s[s.length-1]);var u=[],d={points:s=s.flat(),stroke:a,lineCap:"round",lineJoin:"round"},h={points:s,stroke:a,lineCap:"square",lineJoin:"miter"},f=function(e){return new g.Line(Object(m.a)(Object(m.a)({},d),{},{strokeWidth:e}))};if("thermo"===n){var v=new y(Object(m.a)(Object(m.a)({},d),{},{strokeWidth:.3*i}));u.push(v)}else if("polygon"===n){var x=new g.Line(Object(m.a)(Object(m.a)({},d),{},{strokeWidth:o,stroke:a,closed:!0}));u.push(x)}else if("polygonfill"===n){var E=new g.Line(Object(m.a)(Object(m.a)({},d),{},{strokeWidth:o,fill:a,closed:!0}));u.push(E)}else if("thin"===n){var w=f(e.getLineWidth("thin"));u.push(w)}else if("medium"===n){var k=f(e.getLineWidth("medium"));u.push(k)}else if("fat"===n){var j=f(e.getLineWidth("fat"));u.push(j)}else if("roundborder"===n){var S=i*e.radius*2+e.getLineWidth("medium"),O=f(S),W=new g.Line(Object(m.a)(Object(m.a)({},d),{},{strokeWidth:S-2*e.getLineWidth("medium"),stroke:"white"}));u.push(O,W)}else if("border"===n){var L=new g.Line(Object(m.a)(Object(m.a)({},h),{},{strokeWidth:.8*i})),C=new g.Line(Object(m.a)(Object(m.a)({},h),{},{strokeWidth:.67*i,stroke:"white"}));u.push(L,C)}else if("roundfill"===n){var R=f(i*e.radius*2);u.push(R)}else if("squarefill"===n){var _=new g.Line(Object(m.a)(Object(m.a)({},h),{},{strokeWidth:.8*i}));u.push(_)}else if("arrowcircle"===n||"arrow"===n){var D=new b({points:s,stroke:a,strokeWidth:o,lineCap:"butt",lineJoin:"miter",arrowLength:.3*i});if(u.push(D),"arrowcircle"===n){var z=new g.Circle({x:c[0],y:c[1],radius:l,fill:"white",strokeWidth:o,stroke:a});u.push(z)}}return(r=e.underlay2).add.apply(r,u),e.scene.draw(),u}function E(e,t,n,a,r,i){var l,o,c,s=+n.substr(1,1),u=+n.substr(2,1),d=Q(a);if(""===n)return t.text&&t.text.text(n),void(t.symbol&&(t.symbol.destroy(),t.symbol=null,t.symboltext=""));"object"===typeof r?(l=r[0]/2,o=r[1]/2,c=Math.min.apply(Math,Object(h.a)(r))):(l=(c=r)/2,o=c/2);var f,v=e.radius*c,y=e.getLineWidth("medium",c);if("#"!==n[0]&&(s=0),0===s){if(t.text)return t.text.text(n),void t.text.obj.fill(d);var p=(f=new g.Text({text:n,fontSize:c,fill:d,listening:!1})).measureSize(n);f.position({x:l-p.width/2,y:o-p.height/2})}if(1===s){var x={x:l,y:o,radius:v,strokeWidth:y,listening:!1};1===u&&(f=new g.Circle(Object(m.a)(Object(m.a)({},x),{},{fill:d,stroke:"black"}))),2===u&&(f=new g.Circle(Object(m.a)(Object(m.a)({},x),{},{fill:"white",stroke:d}))),3===u&&(f=new g.Circle(Object(m.a)(Object(m.a)({},x),{},{fill:d,stroke:"black",dash:[4]}))),4===u&&(f=new g.Circle(Object(m.a)(Object(m.a)({},x),{},{fill:"white",stroke:d,dash:[4]}))),5===u&&(f=new g.Circle(Object(m.a)(Object(m.a)({},x),{},{fill:d,strokeWidth:0})))}if(2===s){var E=.05*c,w=.15*c,k={stroke:d,strokeWidth:y,fill:d,pointerLength:.3*c,pointerWidth:.3*c,arrowLength:.3*c,listening:!1};1===u&&(f=new b(Object(m.a)({x:l,y:o,points:[E,E,c-l-E,c-o-E]},k))),2===u&&(f=new b(Object(m.a)({x:l,y:o,points:[0,0,c-l-E,-o+E]},k))),3===u&&(f=new b(Object(m.a)({x:l,y:o,points:[0,0,-l+E,-o+E]},k))),4===u&&(f=new b(Object(m.a)({x:l,y:o,points:[0,0,-l+E,c-o-E]},k))),5===u&&(f=new b(Object(m.a)({x:w,y:o,points:[0,0,c-2*w,0]},k))),6===u&&(f=new b(Object(m.a)({x:c-w,y:o,points:[0,0,-(c-2*w),0]},k))),7===u&&(f=new b(Object(m.a)({x:l,y:w,points:[0,0,0,c-2*w]},k))),8===u&&(f=new b(Object(m.a)({x:l,y:c-w,points:[0,0,0,-(c-2*w)]},k)))}if(3===s){var j=.2*c,S={stroke:d,fill:d,strokeWidth:.03*c,pointerLength:.1*c,pointerWidth:.1*c,arrowLength:.1*c,listening:!1};1===u&&(f=new b(Object(m.a)({x:j,y:j,points:[0,0,c-2*j,0]},S))),2===u&&(f=new b(Object(m.a)({x:c-j,y:j,points:[0,0,-(c-2*j),0]},S))),3===u&&(f=new b(Object(m.a)({x:c-j,y:j,points:[0,0,0,c-2*j]},S))),4===u&&(f=new b(Object(m.a)({x:c-j,y:c-j,points:[0,0,0,-(c-2*j)]},S))),5===u&&(f=new b(Object(m.a)({x:c-j,y:c-j,points:[0,0,-(c-2*j),0]},S))),6===u&&(f=new b(Object(m.a)({x:j,y:c-j,points:[0,0,c-2*j,0]},S))),7===u&&(f=new b(Object(m.a)({x:j,y:c-j,points:[0,0,0,-(c-2*j)]},S))),8===u&&(f=new b(Object(m.a)({x:j,y:j,points:[0,0,0,c-2*j]},S)))}if(4===s){if(1===u&&(f=new g.Star({x:l,y:o,innerRadius:.2*c,outerRadius:.4*c,numPoints:5,fill:d,stroke:"black"})),2===u){var O=.1*c;f=new g.Line({points:[O,O,c-O,c/2,O,c-O,O,O],fill:d,closed:!0})}if(3===u&&((f=new g.Group).add(new g.Rect({width:c,height:c,fill:d})),f.add(new g.Line({points:[0,0,c,c],stroke:"white",strokeWidth:y}))),4===u){var W=.1*c;(f=new g.Group).add(new g.Line({x:l-c/2,y:o-c/2,points:[W,W,c-W,c-W],stroke:d,strokeWidth:y,listening:!1})),f.add(new g.Line({x:l-c/2,y:o-c/2,points:[W,c-W,c-W,W],stroke:d,strokeWidth:y,listening:!1}))}if(5===u){var L=.1*c;f=new g.Line({x:l-c/2,y:o-c/2,points:[L,L,c-L,c/2,L,c-L],stroke:d,strokeWidth:y,listening:!1})}if(6===u){var C=.1*c;f=new g.Line({x:l-c/2,y:o-c/2,points:[c-C,C,C,c/2,c-C,c-C],stroke:d,strokeWidth:y,listening:!1})}if(7===u){var R=.1*c;f=new g.Line({x:l-c/2,y:o-c/2,points:[R,R,c/2,c-R,c-R,R],stroke:d,strokeWidth:y,listening:!1})}if(8===u){var _=.1*c;f=new g.Line({x:l-c/2,y:o-c/2,points:[_,c-_,c/2,_,c-_,c-_],stroke:d,strokeWidth:y,listening:!1})}}if(5===s){var D=.1*c,z={x:D,y:D,width:c-2*D,height:c-2*D,listening:!1};1===u&&(f=new g.Rect(Object(m.a)(Object(m.a)({},z),{},{fill:d,stroke:"black",strokeWidth:y}))),2===u&&(f=new g.Rect(Object(m.a)(Object(m.a)({},z),{},{fill:null,stroke:d,strokeWidth:y}))),3===u&&(f=new g.Rect(Object(m.a)(Object(m.a)({},z),{},{fill:d,stroke:"black",strokeWidth:y,dash:[4]}))),4===u&&(f=new g.Rect(Object(m.a)(Object(m.a)({},z),{},{fill:null,stroke:d,strokeWidth:y,dash:[4]}))),5===u&&(f=new g.Rect(Object(m.a)(Object(m.a)({},z),{},{fill:d,strokeWidth:0})))}if(6===s){var M=.1*c;1===u&&(f=new g.Line({x:l,y:M,points:[0,0,0,c-2*M],stroke:d,strokeWidth:y,listening:!1})),2===u&&(f=new g.Line({x:M,y:o,points:[0,0,c-2*M,0],stroke:d,strokeWidth:y,listening:!1})),3===u&&((f=new g.Group).add(new g.Line({x:M,y:o,points:[0,0,c-2*M,0],stroke:d,strokeWidth:y,listening:!1})),f.add(new g.Line({x:l,y:M,points:[0,0,0,c-2*M],stroke:d,strokeWidth:y,listening:!1})))}if(f){if(t.symbol&&t.symbol.destroy(),i){var G=new g.Rect({width:c,height:c,fill:"white",listening:!1}),A=new g.Group;A.add(G,f),t.symbol=A,t.add(A)}else t.symbol=f,t.add(f);t.symboltext=n,t.symbolcolor=a,t.symbolbg=i}}var w=n(58),k=n.n(w),j=n(59),S=n.n(j),O=n(28),W={},L=0,C=null,R=null,_=null,D=null,z=0,M=0,G=0,A=0,B=0,T=0,I="normal",P=!1,U=!1,q=0,N=0,H=!1,J=!1,K=!0,F="rgb(29, 106, 229)",X=["rgba(0, 0, 0, 1)","rgba(207, 207, 207, 0.5)","rgba(255, 255, 255, 1)","rgba(163, 224, 72, 0.5)","rgba(210, 59, 231, 0.5)","rgba(235, 117, 50, 0.5)","rgba(226, 38, 31, 0.5)","rgba(247, 208, 56, 0.5)","rgba(52, 187, 230, 0.5)","rgba(140, 140, 140, 0.5)","rgba(80, 80, 80, 0.5)","rgba(20, 20, 20, 0.5)"];function Q(e){return"number"===typeof e&&(e=X[e]),(e=g.Util.colorToRGBA(e)).r=e.r*e.a+255*(1-e.a),e.g=e.g*e.a+255*(1-e.a),e.b=e.b*e.a+255*(1-e.a),e.a=1,"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")}var V=0,Z="normal",$=null,Y=null,ee=!1,te=null,ne=[],ae=[],re={},ie=!1,le=null,oe=-1,ce=[],se=[],ue=null,de=null,he=null,fe=!1,me=null,ge=null,ve=[];var be=function(){function e(t,n,a){Object(c.a)(this,e),this.container=t,this.width=n,this.height=a,this.color=null,this.obj=null}return Object(s.a)(e,[{key:"fill",value:function(e){if(void 0===e)return this.color;this.color=e,null===e?this.obj&&(this.obj.destroy(),this.obj=null):(null===this.obj&&(this.obj=new g.Rect({width:this.width,height:this.height}),this.container.add(this.obj)),this.obj.fill(this.color))}}]),e}(),ye=function(){function e(t,n,a,r){Object(c.a)(this,e),this.container=t,this._color=n,this.fontSize=a,this.size=r,this._text="",this.obj=null}return Object(s.a)(e,[{key:"text",value:function(e){if(void 0===e)return this._text;if(this._text=e,this._text.length>0){this.obj?this.obj.text(this._text):(this.obj=new g.Text({fill:this._color,text:this._text,fontSize:this.fontSize,listening:!1}),this.container.add(this.obj));var t=this.obj.measureSize(this._text);this.obj.position({x:(this.size-t.width)/2,y:(this.size-t.height)/2})}else this.obj&&(this.obj.destroy(),this.obj=null)}},{key:"color",value:function(e){if(void 0===e)return this._color;this._color=e,this.obj&&this.obj.fill(this._color)}}]),e}();function pe(e,t,n,a,r){var i,l=a;e.normal?("number"===typeof n&&(n=X[n]),l=L,i=e.normal.text,H&&(t=i.text()+t),e=e.symcont):l>0?n="gray":(l=e.bsize,H&&""!==t&&(t=(e.symboltext||"")+t)),"#"!==t[0]&&i?(i.text(t),i.color(n)):E(W,e,t,n,l,r)}function xe(e,t,n,a){var r=new g.Stage({container:e,width:a,height:a,listening:!1}),i=new g.Layer({listening:!1});pe(i,"#"+t+n,V,a),r.add(i),r.draw()}function Ee(){var e=[];return Ke((function(t){var n={x:t.x,y:t.y};""!==t.normal.text.text()?n.normal=t.normal.text.text():(""!==t.center.text.text()&&(n.center=t.center.text.text()),n.corner=t.corner.map((function(e){return e.text.text()}))),t.r_color.rect.fill()&&(n.color=t.r_color.rect.fill()),t.cross&&(n.cross=!0),n.edge=[],n.centerline=[],n.edgecross=[],t.boundary.forEach((function(e,t){e.edge&&!e.lock&&n.edge.push(t),e.cross&&n.edgecross.push(t),e.centerline&&n.centerline.push(t)})),e.push(n)})),e}function we(){var e=Ee();ce.push(e)}function ke(e){e.forEach((function(e){var t=Ce(e.x,e.y);Se([e.x,e.y],"reset",null,"",!1),e.normal?t.normal.text.text(e.normal):(e.center&&t.center.text.text(e.center),e.corner&&e.corner.forEach((function(e,n){return t.corner[n].text.text(e)}))),e.color?t.r_color.rect.fill(e.color):t.r_color.rect.fill(null),e.cross&&Te(e.x,e.y,!0),e.edge.forEach((function(t){return ze(e.x,e.y,t,!0)})),e.edgecross.forEach((function(t){return Ie(e.x,e.y,t,!0)})),e.centerline.forEach((function(t){return Ge(e.x,e.y,t,!0)}))}))}function je(e,t,n,a,r,i){var l=t[0],o=t[1],c=null;3===t.length&&(c=Ce.apply(void 0,Object(h.a)(t)));var s=Ce(l,o);if((s.main_grid||"normal"===n||e||"reset"===n)&&(1!==s.lock_type||e||"color"===n||"reset"===n))if("reset"===n)s.center.text.text(""),(1!==s.lock_type||e)&&s.normal.text.text(""),s.corner.forEach((function(e){return e.text.text("")})),s.r_color.rect.fill(null),s.cross&&(s.cross.destroy(),s.cross=null),s.boundary.forEach((function(e){e.edge&&!e.lock&&(e.edge.destroy(),e.edge=null,delete re[[l,o,e.bindex]]),e.centerline&&(e.centerline.destroy(),e.centerline=null),e.cross&&(e.cross.destroy(),e.cross=null)})),e&&(s.r_color_set.rect.fill(null),s.fill=-1,s.symcont.symbol&&(s.symcont.symbol.destroy(),s.symcont.symbol=null,s.symcont.symboltext=""),s.boundary.forEach((function(e){e.symbol&&(e.symbol.destroy(),e.symbol=null,e.symboltext="",console.log("reset boundary")),e.rect&&(e.rect.destroy(),e.rect=null),e.edge&&(e.edge.destroy(),e.edge=null,delete re[[l,o,e.bindex]]),e.text.text("")})));else if(c)pe(c,r,a,0,i);else if("normal"===n)e?(s.lock_type=""!==r?1:0,"#"!==r[0]&&(s.color=a)):a=F,pe(s,r,a),"#"!==r[0]&&(s.center.text.text(""),s.corner.forEach((function(e){return e.text.text("")})));else if("center"===n&&""===s.normal.text.text()){var u=s.center.text.text(),d="";if(""!==r)for(var f=1;f<=9;++f)(-1===u.indexOf(f)&&f===+r||-1!==u.indexOf(f)&&f!==+r)&&(d+=f);s.center.text.text(d)}else if("corner"===n&&""===s.normal.text.text()){var m="";s.corner.forEach((function(e){return m+=e.text.text()}));var g="";if(""!==r)for(var v=1;v<=9;++v)(-1===m.indexOf(v)&&v===+r||-1!==m.indexOf(v)&&v!==+r)&&(g+=v);var b=0;s.corner.forEach((function(e){return e.text.text(g[b++]||"")}))}else"color"===n&&(e?2===a?(s.r_color_set.rect.fill(null),s.fill=null):(s.r_color_set.rect.fill(X[a]),s.fill=a):2===a?s.r_color.rect.fill(null):s.r_color.rect.fill(X[a]))}function Se(e,t,n,a,r){je(!ee,e,t,n,a,r)}function Oe(e,t,n,a,r){je(!0,e,t,n,a,r)}function We(e){we();var t=""+e;if(N>0&&(t="#"+N+e),ge)Se(ge,"boundary",V,t,J);else{var n=0,a=Z;Fe((function(e){return++n})),n>1&&ee&&"normal"===a&&(a="center"),Fe((function(e){return Se([e.x,e.y],a,V,t,!1)}))}te.draw()}function Le(e){we(),V=e,"color"===Z&&(Fe((function(t){Se([t.x,t.y],"color",e,null,!1)})),te.draw())}function Ce(e,t,n){if(e<0||t<0||e>=C||t>=R)return null;var a=ne[t][e];return n>=0?a.boundary[n]:a}function Re(e,t){var n=Ce(e,t);return me=[e,t],!n.mark&&(n.mark=!0,n.rect.fill("rgba(247, 208, 56, 0.5)"),n.rect.fillEnabled(K),!0)}var _e=null;function De(e,t){switch(void 0===t&&(t=L),e){case"thin":return.01*t;case"medium":return.07*t;default:return.2*t}}function ze(e,t,n,a,r,i){var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=Ce(e,t),c=o.boundary[n],s=ee?F:X[V],u=De(ee?"fat":r),d=.15*L;if(a){if(!c.edge){var h,f=function(e,t,n,a){h=new g.Line({x:e,y:t,points:[0,0,n,a],strokeWidth:u,stroke:s,lineCap:"round",listening:!1})};switch(c.btype2){case 1:case 4:f(d,-d,0,L);break;case 2:case 3:f(-d,d,L,0)}re[[e,t,n]]=[r,i],c.edge=h,c.lock=l,c.add(h)}}else c.edge&&(c.edge.destroy(),c.edge=null,delete re[[e,t,n]])}function Me(e,t,n,a,r,i){var l=Ce(e,t).boundary[n];l.lock&&ee||(null===_e&&(_e=!!l.edge),ze(e,t,n,!_e,a,r,i))}function Ge(e,t,n,a,r,i){var l=Ce(e,t),o=l.boundary[n],c=ee?F:X[V];void 0!==i&&(c=X[i]);var s=De(r);if(a){if(!o.centerline){var u,d=L/2,h=o.bwidth/2,f=o.bheight/2;if(2===o.btype2||3===o.btype2){if(2===o.btype2&&l.y<=M)return;if(3===o.btype2&&l.y>=M+R-1)return;u=[0,-d,0,d]}else{if(1===o.btype2&&l.x<=z)return;if(4===o.btype2&&l.x>=z+C-1)return;u=[-d,0,d,0]}var m=new g.Line({x:h,y:f,points:u,strokeWidth:s,stroke:c,lineCap:"round",listening:!1});o.centerline=m,o.add(m)}}else o.centerline&&(o.centerline.destroy(),o.centerline=null)}function Ae(e,t,n,a,r){var i=Ce(e,t).boundary[n];null===_e&&(_e=!!i.centerline),Ge(e,t,n,!_e,a,r)}var Be={x:-1,y:-1,i:-1};function Te(e,t,n){var a=Ce(e,t);n?a.cross||(a.cross=new g.Group,a.add(a.cross),E(W,a.cross,"#44",F,L)):a.cross&&(a.cross.destroy(),a.cross=null)}function Ie(e,t,n,a){var r=Ce(e,t).boundary[n];a?r.cross||(r.cross=new g.Group,r.add(r.cross),E(W,r.cross,"#44",F,[r.bwidth,r.bheight])):r.cross&&(r.cross.destroy(),r.cross=null)}var Pe=[-1,-1];function Ue(){if(ge){var e=Ce.apply(void 0,Object(h.a)(ge)).rect;e&&e.strokeWidth(0),ge=null}Fe((function(e){e.rect.fill(null),e.mark=!1})),me=null}function qe(e,t,n,a){!function(e,t,n){Ue();var a=Ce(e,t).boundary[n];a.rect||(a.rect=new g.Rect({width:a.bwidth,height:a.bheight,fillEnabled:!1}),a.add(a.rect)),a.rect.stroke("red"),a.rect.strokeWidth(1),ge=[e,t,n]}(t,n,a),te.draw()}function Ne(e,t,n,a){if(e.evt.stopPropagation(),ie=!0,oe="touchstart"===e.evt.type?0:e.evt.button,2!==e.evt.button||"edgecross"!==$){if(2===e.evt.button&&"cross"===$)return le=!function(e,t){return!!Ce(e,t).cross}(t,n),we(),Te(t,n,le),void te.draw();fe||Ue(),ge&&(Ce.apply(void 0,Object(h.a)(ge)).strokeWidth(0),ge=null),"path"===Z?(ue={cells:[[t,n]],color:V}).objs=x(W,ue.cells,Y,V):"cage"===Z?(ue={cells:[[t,n]],color:V}).objs=v(W,ue.cells,Y,V):"edge"===Z&&void 0!==a?(we(),Me(t,n,a,Y,V)):"centerline"===Z&&void 0!==a?(we(),Ae(t,n,a,Y,V)):Re(t,n),te.draw()}else void 0!==a&&(le=!function(e,t,n){return!!Ce(e,t).boundary[n].cross}(t,n,a),we(),Ie(t,n,a,le),te.draw())}function He(){ie=!1,_e=null,"path"===Z&&ue?(ae.push({type:1,style:Y,cells:ue.cells,objs:ue.objs,color:V}),me=Object(O.last)(ue.cells),ue=null):"cage"===Z&&ue&&(ae.push({type:2,style:Y,cells:ue.cells,objs:ue.objs,color:V}),me=Object(O.last)(ue.cells),ue=null)}function Je(e){Z=e.mode,J=e.numberBackground,H=e.multiDigit,Ke((function(e){return e.boundary.forEach((function(e){e.rect&&(e.rect.destroy(),e.rect=null)}))})),K=!1,"cage"===e.mode?Y=e.cageStyle:"path"===e.mode?Y=e.pathStyle:"edge"===e.mode?Y=e.edgeStyle:"edgecross"===e.mode?(Z="edge",Y="fat",V=void 0,$="edgecross"):"centerline"===e.mode?(Z="centerline",Y="fat",V=void 0,$="edgecross"):("normal"!==e.mode&&"number"!==e.mode||"normal"!==e.numberStyle||(Z="normal"),K=!0),K||Ue(),"edge"!==Z&&"centerline"!==Z||Ke((function(e){return e.boundary.forEach((function(t,n){5===t.btype&&(t.rect||(t.rect=new g.Rect({width:t.bwidth,height:t.bheight,fill:null,fillEnabled:!1}),t.add(t.rect)),t.rect.fillEnabled(!0),t.rect.on("mousemove touchmove",(function(t){return function(e,t,n,a){ie&&(Be.x===t&&Be.y===n&&Be.i===a||(Be={x:t,y:n,i:a},we(),2!==oe||"edgecross"!==$?(Ue(),"edge"===Z?Me(t,n,a,Y,V):Ae(t,n,a,Y,V),te.draw()):void 0!==a&&(Ie(t,n,a,le),te.draw())))}(0,e.x,e.y,n)})),t.rect.on("mousedown tap touchstart",(function(t){return Ne(t,e.x,e.y,n)})),t.rect.on("mouseup touchend",(function(t){return function(e,t,n,a){2!==e.evt.button&&null===_e&&"edge"===Z&&Me(t,n,a,Y,V)}(t,e.x,e.y,n)})))}))}));var t=function(e){Ke((function(t){return t.boundary.forEach((function(n,a){n.btype===e&&(n.rect||(n.rect=new g.Rect({width:n.bwidth,height:n.bheight,fill:null,fillEnabled:!0}),n.add(n.rect)),n.rect.on("mousedown touchstart tap",(function(e){return qe(0,t.x,t.y,a)})))}))}))};"number"===e.mode&&"corner"===e.numberStyle&&(Z="boundary",t(1)),"number"===e.mode&&"side"===e.numberStyle&&(Z="boundary",t(2)),"number"===e.mode&&"quarter"===e.numberStyle&&(Z="boundary",t(3)),"number"===e.mode&&"boundary"===e.numberStyle&&(Z="boundary",t(4)),"number"===e.mode&&"bigboundary"===e.numberStyle&&(Z="boundary",t(6)),te.draw()}function Ke(e){for(var t=0;t<C;++t)for(var n=0;n<R;++n){e(Ce(t,n))}}function Fe(e){for(var t=0;t<C;++t)for(var n=0;n<R;++n){var a=Ce(t,n);a.mark&&e(a)}}function Xe(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=k.a.inflate(t),a=S.a.decode(n);1!==a.version&&alert("Bad version"),function(e){var t=Object(f.a)(e,12);L=t[0],C=t[1],R=t[2],z=t[3],A=t[4],M=t[5],G=t[6],B=t[7],T=t[8],I=t[9],P=t[10],U=t[11]}(a.grid)}function Qe(e){if(ae=[],Ke((function(e){e.lock_type=0,e.normal.text.text(""),e.center.text.text("")})),e.edges)for(var t in e.edges){var n=t.split(",").map((function(e){return+e})),a=Object(f.a)(e.edges[t],2),r=a[0],i=a[1];Me.apply(void 0,Object(h.a)(n).concat([r,i,!0]))}e.cells.forEach((function(e){var t=Object(f.a)(e,5),n=t[0],a=t[1],r=t[2],i=t[3],l=t[4];1===a?Oe(n,"normal",i,r,!1):2===a?Oe(n,"color",i,r,!1):3===a&&Oe(n,"boundary",i,r,l)})),e.stuff.forEach((function(e){var t={type:e[0],style:e[1],color:e[2],cells:e[3]};1===t.type?t.objs=x(W,t.cells,t.style,t.color):2===t.type&&(t.objs=v(W,t.cells,t.style,t.color)),ae.push(t)}))}function Ve(e){var t={version:1,grid:[L,C,R,z,A,M,G,B,T,I,P,U],cells:[],stuff:ae.map((function(e){return[e.type,e.style,e.color,e.cells]})),edges:re,desc:e};return Ke((function(e){var n=[e.x,e.y];1===e.lock_type&&(""!==e.normal.text.text()&&t.cells.push([n,e.lock_type,e.normal.text.text(),e.color]),""!==e.symcont.symboltext&&void 0!==e.symcont.symboltext&&t.cells.push([n,e.lock_type,e.symcont.symboltext,e.symcont.symbolcolor,e.symcont.symbolbg])),e.fill>=0&&t.cells.push([n,2,null,e.fill]),e.boundary.forEach((function(n,a){n.symboltext&&t.cells.push([[e.x,e.y,a],3,n.symboltext,n.symbolcolor,n.symbolbg]),n.text.text()&&t.cells.push([[e.x,e.y,a],3,n.text.text(),n.text.obj.fill()])}))})),console.log(t),t}function Ze(){if(!ee&&me){var e=Object(O.findLastIndex)(ae,(function(e){return e.cells.find((function(e){return e[0]===me[0]&&e[1]===me[1]}))}));if(-1===e&&Fe((function(t){-1===e&&(e=Object(O.findLastIndex)(ae,(function(e){return e.cells.find((function(e){return e[0]===t.x&&e[1]===t.y}))})))})),-1!==e)return ae[e].objs.forEach((function(e){return e.destroy()})),ae.splice(e,1),void te.draw()}we(),ge?Se(ge,"boundary",null,"",!1):Fe((function(e){Se([e.x,e.y],"reset",null,"",!1)})),te.draw()}function $e(){if(0!==ce.length){var e=Ee();se.push(e),ke(e=ce.pop()),te.draw()}}function Ye(){if(0!==se.length){var e=Ee();ce.push(e),ke(e=se.pop()),te.draw()}}function et(e){q=.2*L;var t=.2*L,n=C*L+2*t,a=R*L+2*t,r=new g.Stage({container:e,width:n,height:a});te=new g.Layer,r.add(te),ne=[],ae=[],re={},ce=[],se=[],ue=null,de=null,he=null,fe=!1,me=null,de=new g.Group({x:t,y:t}),te.add(de),he=new g.Group;var i=new g.Group,l=new g.Group,o=new g.Group;de.add(i,he,l,o);for(var c=0;c<R;++c)ne[c]=[];for(var s=L,u=function(e){for(var t=function(t){var n=e*s,a=t*s,r=e>=z&&t>=M&&e<C-A&&t<R-G,i=new g.Group({x:n,y:a}),l=new g.Group({x:n,y:a}),c=new g.Group,u=new g.Rect({width:s,height:s,strokeWidth:0,fillEnabled:!0}),d=new g.Group;d.rect=new be(d,s,s);var f=new g.Group;f.rect=new be(f,s,s);var m=new g.Rect({x:q,y:q,width:s-2*q,height:s-2*q,fillEnabled:!0}),b=new g.Group;b.text=new ye(b,F,.7*s,s);var y=new g.Group;y.text=new ye(y,F,.3*s,s);var p=[],E=.25*L,w=.03*L;p[0]=[w,w],p[1]=[s-E-w,w],p[2]=[s-E-w,s-E-w],p[3]=[w,s-E-w],p[4]=[(s-E)/2,w],p[5]=[s-E-w,(s-E)/2],p[6]=[(s-E)/2,s-E-w],p[7]=[w,(s-E)/2];var k=[],j=[];r&&p.forEach((function(e,t){var n=new g.Group({x:e[0],y:e[1]});n.text=new ye(n,F,E,E),k.push(n)})),function(e,t,n){var a=.04*L,r=L,i=.4*L,l=function(e,t,a,r,i){var l=new g.Group({x:e,y:t}),o=a,c=a,s=a;Array.isArray(a)&&(o=a[0],c=a[1],s=Math.min(a[0],a[1])),l.rect=null,l.bindex=n.length,l.bsize=s,l.bwidth=o,l.bheight=c,l.btype=r,l.btype2=i,l.textcont=new g.Group({x:e,y:t}),l.text=new ye(l.textcont,"black",.7*s,s),n.push(l)};l(a,a,i,1),l(r-i-a,a,i,1),l(a,r-i-a,i,1),l(r-i-a,r-i-a,i,1),l(a,r/2-i/2,i,2),l(r/2-i/2,a,i,2),l(r-i-a,r/2-i/2,i,2),l(r/2-i/2,r-i-a,i,2);var o=.4*L,c=.05*L;l(c,c,o,3),l(r-o-c,c,o,3),l(c,r-o-c,o,3),l(r-o-c,r-o-c,o,3);var s=.3*L,u=.7*L,d=s/2;l(-d,d,[s,u],5,1),l(d,-d,[u,s],5,2),e===C-A-1&&l(r-d,d,[s,u],5,4),t===R-G-1&&l(d,r-d,[u,s],5,3),l(-i/2,-i/2,i,4),l(-i/2,r/2-i/2,i,4),l(r/2-i/2,-i/2,i,4),e===C-A-1&&(l(r-i/2,-i/2,i,4),l(r-i/2,r/2-i/2,i,4)),t===R-G-1&&(l(-i/2,r-i/2,i,4),l(r/2-i/2,r-i/2,i,4),l(r-i/2,r-i/2,i,4));var h=.8*r;l(-h/2,-h/2,h,6),l(-h/2,r/2-h/2,h,6),l(r/2-h/2,-h/2,h,6),e===C-A-1&&(l(r-h/2,-h/2,h,6),l(r-h/2,r/2-h/2,h,6)),t===R-G-1&&(l(-i/2,r-i/2,i,6),l(r/2-i/2,r-i/2,i,6),l(r-i/2,r-i/2,i,6))}(e,t,j),l.add(f,d,u,m,c,b,y),l.on("mousedown touchstart tap",(function(n){return Ne(n,e,t)})),l.on("mousemove touchmove",(function(n){return function(e,t,n){if((t!==Pe[0]||n!==Pe[1])&&(Pe[0]=t,Pe[1]=n,ie&&(2!==oe||"edgecross"!==$))){if(2===oe&&"cross"===$)return Te(t,n,le),void te.draw();if("path"===Z||"edge"===Z||"centerline"===Z);else if("cage"===Z){if(ue.cells.length>0){var a=Object(O.last)(ue.cells);if(a[0]===t&&a[1]===n)return}ue.objs&&ue.objs.forEach((function(e){return e.destroy()})),ue.cells.push([t,n]),ue.objs=v(W,ue.cells,Y,V)}else Re(t,n);te.draw()}}(0,e,t)})),m.on("mousemove touchmove",(function(n){return function(e,t,n){if(ie&&0===oe&&"path"===Z){if(ue.cells.length>0){var a=Object(O.last)(ue.cells);if(a[0]===t&&a[1]===n)return}ue.objs.forEach((function(e){return e.destroy()})),ue.cells.push([t,n]),ue.objs=x(W,ue.cells,Y,V),te.draw()}}(0,e,t)})),ne[t][e]={x:e,y:t,pos:[n,a],symcont:c,cont:l,ocont:i,rect:u,boundary:j,fill:-1,color:null,normal:b,center:y,corner:k,corner_pos:p,r_color_set:f,r_color:d,main_grid:r},he.add(l),r&&i.add.apply(i,k),i.add.apply(i,j),i.add.apply(i,Object(h.a)(j.map((function(e){return e.textcont})))),o.add(i)},n=0;n<R;++n)t(n)},d=0;d<C;++d)u(d);!function(e){var t="dots"===I,n={stroke:"black",strokeWidth:.01*L,dash:"dash"===I?[4]:null},a={stroke:"black",strokeWidth:.07*L};if(ve.forEach((function(e){return e.destroy()})),_=C-z-A,D=R-M-G,ve=[],P||U){var r={stroke:X[1],strokeWidth:.07*L};P&&ve.push(new g.Line(Object(m.a)({points:[z*L,M*L,(z+_)*L,(M+D)*L]},r))),U&&ve.push(new g.Line(Object(m.a)({points:[(C-A)*L,M*L,z*L,(M+D)*L]},r)))}if(t)for(var i=.07*L,l=0;l<=D;++l)for(var o=0;o<=_;++o)ve.push(new g.Circle({x:(z+o)*L,y:(M+l)*L,radius:i,fill:"black"}));else{for(var c=0;c<=_;++c)ve.push(new g.Line(Object(m.a)({x:(z+c)*L,y:M*L,points:[0,0,0,D*L]},c%B===0?a:n)));for(var s=0;s<=D;++s)ve.push(new g.Line(Object(m.a)({x:z*L,y:(M+s)*L,points:[0,0,_*L,0]},s%T===0?a:n)));ve.push(new g.Rect({x:z*L,y:M*L,width:_*L,height:D*L,stroke:"black",strokeWidth:.07*L,fillEnabled:!1}))}e.add.apply(e,Object(h.a)(ve))}(l),W.scene=te,W.underlay=he,W.underlay2=i,W.overlay=o,W.cell_size=L,W.each_cell=Ke,W.getLineWidth=De,W.get=Ce,W.radius=.4}function tt(e,t,n){ee=n.solveMode,L=n.cellSize,z=n.left,A=n.right,M=n.top,G=n.bottom,C=z+n.width+A,R=M+n.height+G,B=n.gridDivWidth,T=n.gridDivHeight,I=n.gridStyle,P=n.gridLeftDiagonal,U=n.gridRightDiagonal,e&&Xe(e),et(t),e&&function(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=k.a.inflate(t);Qe(S.a.decode(n))}(e),te.draw(),Je(n)}window.addEventListener("keydown",(function(e){return function(e){var t;if("TEXTAREA"!==e.target.tagName)if("Shift"!==e.key){if("Delete"===e.key||"Backspace"===e.key)return Ze(),void e.preventDefault();if(e.key>="0"&&e.key<="9")t=e.key,N>0&&(t="#"+N+t);else{if("u"===e.key&&ee)return void $e();if(1!==e.key.length||!("?!()+-*%&/:-".includes(e.key)||e.key>="a"&&e.key<="z"||e.key>="A"&&e.key<="Z")||ee){if(e.key.startsWith("Arrow")&&me){var n=me.slice();return fe||Ue(),me=n,"ArrowUp"===e.key&&(me[1]-=1),me[1]<0&&(me[1]=R-1),"ArrowDown"===e.key&&(me[1]+=1),me[1]>=R&&(me[1]=0),"ArrowLeft"===e.key&&(me[0]-=1),me[0]<0&&(me[0]=C-1),"ArrowRight"===e.key&&(me[0]+=1),me[0]>=C&&(me[0]=0),Re(me[0],me[1]),void te.draw()}return}t=e.key}if(we(),ge)Se(ge,"boundary",V,t,J);else{var a=0;Fe((function(e){return++a}));var r=Z;a>1&&ee&&"normal"===r&&(r="center"),Fe((function(e){if("color"===Z){var n=+t-1;n>=0&&n<=9&&Se([e.x,e.y],Z,n,null,!1)}else Se([e.x,e.y],r,V,t,!1)}))}te.draw()}else fe=!0}(e)})),window.addEventListener("keyup",(function(e){return function(e){"Shift"===e.key&&(fe=!1)}(e)})),window.addEventListener("mousedown",(function(e){return function(e){"HTML"===e.target.tagName&&(Ue(),te.draw()),Pe=[-1,-1]}(e)})),window.addEventListener("mouseup",(function(e){return He()})),window.addEventListener("touchend",(function(e){return He()})),window.addEventListener("contextmenu",(function(e){return function(e){"CANVAS"===e.target.tagName&&e.preventDefault()}(e)}));var nt=n(246),at=n(87),rt=n(258),it=n(86),lt=n(247),ot=n(251),ct=n(259),st=n(263),ut=n(212),dt=n(206),ht=n(207),ft=n(208),mt=n(209),gt=n(254),vt=n(255),bt=n(261),yt=n(264),pt=n(210),xt=n(256),Et=n(265),wt=n(85),kt=n(248),jt=n(249),St=n(250),Ot=window.location.search,Wt=new URLSearchParams(Ot),Lt=Wt.get("p"),Ct="1"===Wt.get("s");function Rt(e){return X.slice(0,e.num).map((function(e,t){return r.a.createElement(nt.a,{key:t,item:!0,xs:4},r.a.createElement(at.a,{variant:"outlined",onClick:function(){return Le(t)}},r.a.createElement("div",{style:{border:"1px solid black",background:e,width:"30px",height:"30px"}})))}))}function _t(e){var t=Object(a.useState)(0),n=Object(f.a)(t,2),i=n[0],l=n[1];Object(a.useEffect)((function(){var t=setInterval((function(){e.active&&l((function(e){return e+1}))}),1e3);return function(){return clearInterval(t)}}),[e.active]);return r.a.createElement(rt.a,{margin:"20px",padding:"10px",boxShadow:3},r.a.createElement(it.a,{align:"center",variant:"h4"},new Date(1e3*i).toISOString().substr(11,8)),r.a.createElement(lt.a,{fullWidth:!0,size:"large"},r.a.createElement(at.a,{onClick:e.onStart},r.a.createElement(kt.a,null)),r.a.createElement(at.a,{onClick:e.onStop},r.a.createElement(jt.a,null)),r.a.createElement(at.a,{onClick:function(){e.onStop(),l(0)}},r.a.createElement(St.a,null))))}function Dt(){var e=this,t=Object(wt.b)();return r.a.createElement(at.a,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){t({description:"Remove all changes in grid?"}).then((function(){Ke((function(e){Se([e.x,e.y],"reset",null,"",!1)})),ee||(ae.forEach((function(e){return e.objs.forEach((function(e){return e.destroy()}))})),ae=[]),ce=[],se=[],te.draw(),e.setState({timeStatus:!0})})).catch((function(){}))}},"Reset")}function zt(){var e=Object(a.useState)("0"),t=Object(f.a)(e,2),n=t[0],i=t[1],l=[];l[0]=Object(a.useRef)(null),l[1]=Object(a.useRef)(null),l[2]=Object(a.useRef)(null),l[3]=Object(a.useRef)(null),l[4]=Object(a.useRef)(null),l[5]=Object(a.useRef)(null),l[6]=Object(a.useRef)(null),l[7]=Object(a.useRef)(null),l[8]=Object(a.useRef)(null),l[9]=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(+n>0)for(var e=0;e<9;++e)xe(l[e].current,n,e+1,30);!function(e){N=e}(+n)})),r.a.createElement(rt.a,null,r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(ct.a,{fullWidth:!0,value:n,onChange:function(e){return i(e.target.value)}},["Numbers","Circles","Arrows","Arrows 2","Misc","Squares","Lines"].map((function(e,t){return r.a.createElement(st.a,{key:e,value:t},e)})))),r.a.createElement(nt.a,{container:!0},Object(h.a)(Array(9).keys()).map((function(e){return r.a.createElement(nt.a,{key:e,item:!0,xs:4},r.a.createElement(at.a,{variant:"outlined",onClick:function(t){We(e+1)}},0===+n&&r.a.createElement("div",{style:{fontSize:"20px"}},e+1),+n>0&&r.a.createElement("div",{ref:l[e]})))}))))}function Mt(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],i=t[1];return X.map((function(e,t){return r.a.createElement(nt.a,{key:t,item:!0,xs:4},r.a.createElement(at.a,{variant:n===t?"contained":"outlined",onClick:function(){i(t),Le(t)}},r.a.createElement("div",{style:{border:"1px solid black",background:e,width:"30px",height:"30px"}})))}))}function Gt(e){return r.a.createElement(ut.a,{open:e.open,onClose:e.onClose},r.a.createElement(dt.a,null,"URL"),r.a.createElement(ht.a,null,r.a.createElement(ft.a,null,e.text)),r.a.createElement(mt.a,null,r.a.createElement(at.a,{onClick:function(){e.onClose(),window.open(e.text,"_blank").focus()}},"Open in tab"),r.a.createElement(at.a,{color:"primary",onClick:e.onClose},"OK")))}var At=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleKeyDown=function(e){if("TEXTAREA"!==e.target.tagName&&Ct){var t=["normal","center","corner","color"],n="qwer".indexOf(e.key);if(1===e.key.length&&-1!==n)a.setMode(t[n]);else if(" "===e.key){var r=t.indexOf(a.state.mode);r=(r+1)%t.length,a.setMode(t[r])}}},a.setMode=function(e){var t=document.getElementById("button"+e);t&&t.focus(),a.setState({mode:e},(function(){Je(a.state)}))},a.setStyle=function(e,t){a.setState(Object(o.a)({},e,t),(function(){return Je(a.state)}))},a.generateUrl=function(){var e=function(e){var t=Ve(e),n=S.a.encode(t),a=k.a.deflate(n),r=btoa(String.fromCharCode.apply(String,Object(h.a)(a)));return window.location.origin+"/?s=1&p="+encodeURIComponent(r)}({description:a.state.description,solveSudoku:a.state.solveSudoku,solveEdge:a.state.solveEdge,solveCenterLine:a.state.solveCenterLine});a.setState({dialogText:e,dialogOpen:!0})},a.setGridState=function(e,t){a.setState(Object(o.a)({},e,t),(function(){a.setGrid(e)}))},a.check=function(){var e=function(){if(9!==_||9!==D)return[!1,"Not sudoku"];var e=Object(O.range)(1,10),t=Array.from({length:9},(function(){return[]})),n=Array.from({length:9},(function(){return[]})),a=Array.from({length:9},(function(){return[]})),r=null;if(Ke((function(e){var i=e.x-z,l=e.y-M,o=+e.normal.text.text();if(!(i<0||l<0)){0===o&&null===r&&(r="Missing entry at ".concat(i+1,", ").concat(l+1)),n[i].push(o),t[l].push(o);var c=Math.floor(i/3)+3*Math.floor(l/3);a[c].push(o)}})),r)return[!1,r];for(var i=0;i<9;++i){if(!Object(O.isEqual)(t[i].sort(),e))return[!1,"Bad row ".concat(i+1)];if(!Object(O.isEqual)(n[i].sort(),e))return[!1,"Bad column ".concat(i+1)];if(!Object(O.isEqual)(a[i].sort(),e))return[!1,"Bad box ".concat(i+1)]}return[!0,"OK"]}(),t=e[0],n=e[1];t&&a.setState({timeStatus:!1}),alert(n)},a.canvasRef=r.a.createRef(),a.state={solveMode:Ct,settingsMode:"size",color:0,description:"",cellSize:64,width:9,height:9,left:0,right:0,top:0,bottom:0,gridDivWidth:3,gridDivHeight:3,gridStyle:"lines",gridLeftDiagonal:!1,gridRightDiagonal:!1,mode:Ct?"normal":"number",numberStyle:"normal",multiDigit:!1,numberBackground:!1,edgeStyle:"fat",cageStyle:"dash",pathStyle:"arrow",dialogOpen:!1,dialogText:"",timeStatus:!0,symbolPage:"0",solveSudoku:!0,solveEdge:!1,solveCenterLine:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t={};Lt&&"object"!==typeof(t=function(e){var t=Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)})),n=k.a.inflate(t);return S.a.decode(n).desc}(Lt))&&(t={description:t}),this.setState(t,(function(){tt(Lt,e.canvasRef.current,e.state)})),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),clearInterval(this.interval)}},{key:"numberStyleBox",value:function(){var e=this;return r.a.createElement(rt.a,{margin:"10px"},r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(gt.a,{shrink:!0,id:"numberstyle-label"},"Position"),r.a.createElement(ct.a,{labelId:"numberstyle-label",fullWidth:!0,value:this.state.numberStyle,onChange:function(t){return e.setStyle("numberStyle",t.target.value)}},r.a.createElement(st.a,{value:"normal"},"Normal"),r.a.createElement(st.a,{value:"corner"},"Corner"),r.a.createElement(st.a,{value:"side"},"Side"),r.a.createElement(st.a,{value:"quarter"},"Quarter"),r.a.createElement(st.a,{value:"boundary"},"Boundary"),r.a.createElement(st.a,{value:"bigboundary"},"Big boundary")),r.a.createElement(vt.a,{control:r.a.createElement(bt.a,{checked:this.state.numberBackground,onChange:function(t){e.setStyle("numberBackground",t.target.checked)}}),label:"Background"}),r.a.createElement(vt.a,{control:r.a.createElement(bt.a,{checked:this.state.multiDigit,onChange:function(t){e.setStyle("multiDigit",t.target.checked)}}),label:"Multi digit"})))}},{key:"cageStyleBox",value:function(){var e=this;return r.a.createElement(rt.a,{margin:"10px"},r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(gt.a,{shrink:!0,id:"cagestyle-label"},"Style"),r.a.createElement(ct.a,{labelId:"cagestyle-label",fullWidth:!0,value:this.state.cageStyle,onChange:function(t){return e.setStyle("cageStyle",t.target.value)}},r.a.createElement(st.a,{value:"dash"},"Dashed"),r.a.createElement(st.a,{value:"edge:thin"},"Edge thin"),r.a.createElement(st.a,{value:"edge:medium"},"Edge medium "),r.a.createElement(st.a,{value:"edge:fat"},"Edge fat"))))}},{key:"edgeStyleBox",value:function(){var e=this;return r.a.createElement(rt.a,{margin:"10px"},r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(gt.a,{shrink:!0,id:"edgestyle-label"},"Style"),r.a.createElement(ct.a,{labelId:"cagestyle-label",fullWidth:!0,value:this.state.edgeStyle,onChange:function(t){return e.setStyle("edgeStyle",t.target.value)}},r.a.createElement(st.a,{value:"thin"},"Thin"),r.a.createElement(st.a,{value:"medium"},"Medium"),r.a.createElement(st.a,{value:"fat"},"Fat"))))}},{key:"pathStyleBox",value:function(){var e=this;return r.a.createElement(rt.a,{margin:"10px"},r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(gt.a,{shrink:!0,id:"pathstyle-label"},"Style"),r.a.createElement(ct.a,{labelId:"pathstyle-label",fullWidth:!0,value:this.state.pathStyle,onChange:function(t){return e.setStyle("pathStyle",t.target.value)}},r.a.createElement(st.a,{value:"thin"},"Line"),r.a.createElement(st.a,{value:"medium"},"Medium line"),r.a.createElement(st.a,{value:"fat"},"Fat Line"),r.a.createElement(st.a,{value:"thermo"},"Thermo"),r.a.createElement(st.a,{value:"arrow"},"Arrow"),r.a.createElement(st.a,{value:"arrowcircle"},"Arrow with circle"),r.a.createElement(st.a,{value:"roundborder"},"Round border"),r.a.createElement(st.a,{value:"border"},"Border"),r.a.createElement(st.a,{value:"roundfill"},"Round fill"),r.a.createElement(st.a,{value:"squarefill"},"Square fill"),r.a.createElement(st.a,{value:"polygon"},"Polygon"),r.a.createElement(st.a,{value:"polygonfill"},"Polygon fill"))))}},{key:"timerBox",value:function(){var e=this;return r.a.createElement(rt.a,{minWidth:"250px"},r.a.createElement(_t,{active:this.state.timeStatus,onStart:function(){return e.setState({timeStatus:!0})},onStop:function(){return e.setState({timeStatus:!1})}}),""!==this.state.description&&r.a.createElement(rt.a,{margin:"20px"},r.a.createElement(yt.a,{multiline:!0,variant:"outlined",InputProps:{readOnly:!0},value:this.state.description})),r.a.createElement(rt.a,{margin:"20px"},r.a.createElement(yt.a,{multiline:!0,variant:"outlined"})))}},{key:"settingLeftBox",value:function(){var e=this;return r.a.createElement(rt.a,{minWidth:"250px"},r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(it.a,null,"Draw"),r.a.createElement(ct.a,{fullWidth:!0,value:this.state.mode,onChange:function(t){return e.setMode(t.target.value)}},r.a.createElement(st.a,{value:"number"},"Symbol"),r.a.createElement(st.a,{value:"cage"},"Cage"),r.a.createElement(st.a,{value:"path"},"Path"),r.a.createElement(st.a,{value:"color"},"Color"),r.a.createElement(st.a,{value:"edge"},"Edge")),"number"===this.state.mode&&this.numberStyleBox(),"cage"===this.state.mode&&this.cageStyleBox(),"path"===this.state.mode&&this.pathStyleBox(),"edge"===this.state.mode&&this.edgeStyleBox()),r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(it.a,null,"Settings"),r.a.createElement(ct.a,{fullWidth:!0,value:this.state.settingsMode,onChange:function(t){return e.setState({settingsMode:t.target.value})}},r.a.createElement(st.a,{value:"size"},"Size"),r.a.createElement(st.a,{value:"margins"},"Margins"),r.a.createElement(st.a,{value:"grid"},"Grid"),r.a.createElement(st.a,{value:"description"},"Description"),r.a.createElement(st.a,{value:"solve"},"Solve"))),"size"===this.state.settingsMode&&r.a.createElement(rt.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("cellSize","Cell size",32,96,4,!0),this.sizeSlider("width","Width",3,30),this.sizeSlider("height","Height",3,30)),"margins"===this.state.settingsMode&&r.a.createElement(rt.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("left","Left"),this.sizeSlider("right","Right"),this.sizeSlider("top","Top"),this.sizeSlider("bottom","Bottom")),"grid"===this.state.settingsMode&&r.a.createElement(rt.a,{margin:"30px",padding:"10px",boxShadow:3},this.sizeSlider("gridDivWidth","Grid divider width"),this.sizeSlider("gridDivHeight","Grid divider height"),r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(gt.a,{id:"gridstyle-label"},"Style"),r.a.createElement(ct.a,{labelId:"gridstyle-label",fullWidth:!0,value:this.state.gridStyle,onChange:function(t){return e.setGridState("gridStyle",t.target.value)}},r.a.createElement(st.a,{value:"lines"},"Lines"),r.a.createElement(st.a,{value:"dash"},"Dashed"),r.a.createElement(st.a,{value:"dots"},"Dots"))),r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(pt.a,null,"Diagonals"),r.a.createElement(xt.a,null,r.a.createElement(vt.a,{fullWidth:!0,control:r.a.createElement(bt.a,{checked:this.state.gridLeftDiagonal,onChange:function(t){e.setGridState("gridLeftDiagonal",t.target.checked)}}),label:"Left"}),r.a.createElement(vt.a,{control:r.a.createElement(bt.a,{labelId:"rightdiagonal-label",fullWidth:!0,checked:this.state.gridRightDiagonal,onChange:function(t){e.setGridState("gridRightDiagonal",t.target.checked)}}),label:"Right"})))),"description"===this.state.settingsMode&&r.a.createElement(rt.a,{margin:"30px",padding:"10px",boxShadow:3},r.a.createElement(yt.a,{multiline:!0,rows:8,value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),"solve"===this.state.settingsMode&&r.a.createElement(rt.a,{margin:"30px",padding:"10px",boxShadow:3},r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(pt.a,null),r.a.createElement(xt.a,null,r.a.createElement(vt.a,{fullWidth:!0,control:r.a.createElement(bt.a,{checked:this.state.solveSudoku,onChange:function(t){e.setState({solveSudoku:t.target.checked})}}),label:"Sudoku"}),r.a.createElement(vt.a,{control:r.a.createElement(bt.a,{fullWidth:!0,checked:this.state.solveEdge,onChange:function(t){e.setState({solveEdge:t.target.checked})}}),label:"Edge"}),r.a.createElement(vt.a,{control:r.a.createElement(bt.a,{fullWidth:!0,checked:this.state.solveCenterLine,onChange:function(t){e.setState({solveCenterLine:t.target.checked})}}),label:"Center line"})))))}},{key:"handleChange",value:function(e,t){this.setState(Object(o.a)({},t,e))}},{key:"setGrid",value:function(e){["cellSize","gridDivWidth","gridDivHeight","gridStyle","gridLeftDiagonal","gridRightDiagonal"].includes(e)?function(e,t){var n=Ve();"cellSize"in t&&(L=t.cellSize),"gridDivWidth"in t&&(B=t.gridDivWidth),"gridDivHeight"in t&&(T=t.gridDivHeight),"gridStyle"in t&&(I=t.gridStyle),"gridLeftDiagonal"in t&&(P=t.gridLeftDiagonal),"gridRightDiagonal"in t&&(U=t.gridRightDiagonal),et(e),Qe(n),te.draw()}(this.canvasRef.current,this.state):tt(Lt,this.canvasRef.current,this.state)}},{key:"sizeSlider",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r.a.createElement(rt.a,null,r.a.createElement(it.a,null,t,": ",this.state[e]),r.a.createElement(Et.a,{value:this.state[e],min:a,max:i,step:l,marks:o,id:e,onChange:function(t,a){return n.handleChange(a,e)},onChangeCommitted:function(){return n.setGrid(e)}}))}},{key:"renderSolveMode",value:function(){var e=this,t=[];return this.state.solveSudoku&&t.push(["normal","Normal"],["center","Center"],["corner","Corner"]),this.state.solveEdge&&t.push(["edgecross","Edge"]),this.state.solveCenterLine&&t.push(["centerline","Center line"]),t.push(["color","Color"]),r.a.createElement(rt.a,{display:"flex",flexDirection:"row"},this.timerBox(),r.a.createElement(rt.a,{display:"flex"},r.a.createElement("div",{id:"canvas",ref:this.canvasRef})),r.a.createElement(rt.a,{minWidth:"250px",maxWidth:"250px"},r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(lt.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},t.map((function(t){return r.a.createElement(at.a,{id:"button"+t[0],key:t[0],color:e.state.mode===t[0]?"primary":"default",onClick:function(){return e.setMode(t[0])}},t[1])})))),r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(lt.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(at.a,{onClick:$e},"Undo"),r.a.createElement(at.a,{onClick:Ye},"Redo"),r.a.createElement(at.a,{onClick:Ze},"Delete"))),r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(lt.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(at.a,{onClick:this.check},"Check"),r.a.createElement(Dt,null))),r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(nt.a,{container:!0},"color"===this.state.mode&&r.a.createElement(Rt,{num:9}),["normal","center","corner"].includes(this.state.mode)&&Object(h.a)(Array(9).keys()).map((function(e){return r.a.createElement(nt.a,{key:e,item:!0,xs:4},r.a.createElement(at.a,{variant:"outlined",onClick:function(){return We(e+1)}},r.a.createElement("div",{style:{fontSize:"20px"}},e+1)))}))))))}},{key:"settingRight",value:function(){return r.a.createElement(nt.a,{container:!0},"color"!==this.state.mode&&r.a.createElement(Mt,null),"color"===this.state.mode&&r.a.createElement(Rt,null),"number"===this.state.mode&&r.a.createElement(zt,null))}},{key:"renderSetMode",value:function(){var e=this;return r.a.createElement(rt.a,{display:"flex",flexDirection:"row"},r.a.createElement(Gt,{text:this.state.dialogText,open:this.state.dialogOpen,onClose:function(){return e.setState({dialogOpen:!1})}}),this.settingLeftBox(),r.a.createElement(rt.a,{display:"flex"},r.a.createElement("div",{id:"canvas",ref:this.canvasRef})),r.a.createElement(rt.a,{minWidth:"250px",maxWidth:"250px"},r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(lt.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(at.a,{onClick:Ze},"Delete"),r.a.createElement(at.a,{onClick:this.generateUrl},"Generate URL"))),r.a.createElement(rt.a,{margin:"30px"},r.a.createElement(lt.a,{fullWidth:!0,size:"large",variant:"contained",orientation:"vertical"},r.a.createElement(Dt,null))),r.a.createElement(rt.a,{margin:"30px"},this.settingRight())))}},{key:"render",value:function(){return r.a.createElement(wt.a,null,Ct?this.renderSolveMode():this.renderSetMode())}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(At,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.f44a71aa.chunk.js.map